(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[869],{2224:function(a,b,c){"use strict";var d,e,f=c(6099),g=c(909),h=c(655),i=c(4589),j=c(4594),k=(e=f)&&"object"==typeof e&&"default"in e?e:{default:e},l=((d={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",d["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",d["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",d["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",d["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",d["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",d["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",d["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",d["recaptcha-error"]="ReCAPTCHA error.",d),m=new i.ErrorFactory("appCheck","AppCheck",l),n=new Map,o={activated:!1,tokenObservers:[]},p={enabled:!1};function q(a){return n.get(a)||o}function r(a,b){n.set(a,b)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function s(){return self.grecaptcha}function t(a){if(!q(a).activated)throw m.create("use-before-activation",{appName:a.name})}function u(a,b,c,d){var e=c.render(d,{sitekey:b,size:"invisible"}),f=q(a);r(a,h.__assign(h.__assign({},f),{reCAPTCHAState:h.__assign(h.__assign({},f.reCAPTCHAState),{widgetId:e})}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var v="https://content-firebaseappcheck.googleapis.com/v1beta",w={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},x=function(){function a(a,b,c,d,e){if(this.operation=a,this.retryPolicy=b,this.getWaitDuration=c,this.lowerBound=d,this.upperBound=e,this.pending=null,this.nextErrorWaitInterval=d,d>e)throw Error("Proactive refresh lower bound greater than upper bound!")}return a.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},a.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},a.prototype.isRunning=function(){return!!this.pending},a.prototype.process=function(a){return h.__awaiter(this,void 0,void 0,function(){var b;return h.__generator(this,function(c){switch(c.label){case 0:this.stop(),c.label=1;case 1:return c.trys.push([1,6,,7]),this.pending=new i.Deferred,[4,y(this.getNextRun(a))];case 2:case 4:return c.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return c.sent(),this.pending=new i.Deferred,[4,this.operation()];case 5:return c.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return b=c.sent(),this.retryPolicy(b)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},a.prototype.getNextRun=function(a){if(a)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var b=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),b},a}();function y(a){return new Promise(function(b){setTimeout(b,a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function z(a,b){var c=a.url,d=a.body;return h.__awaiter(this,void 0,void 0,function(){var a,e,f,g,i,j,k,l,n,o;return h.__generator(this,function(h){switch(h.label){case 0:a={"Content-Type":"application/json"},(e=b.getImmediate({optional:!0}))&&(a["X-Firebase-Client"]=e.getPlatformInfoString()),f={method:"POST",body:JSON.stringify(d),headers:a},h.label=1;case 1:return h.trys.push([1,3,,4]),[4,fetch(c,f)];case 2:return g=h.sent(),[3,4];case 3:throw i=h.sent(),m.create("fetch-network-error",{originalErrorMessage:i.message});case 4:if(200!==g.status)throw m.create("fetch-status-error",{httpStatus:g.status});h.label=5;case 5:return h.trys.push([5,7,,8]),[4,g.json()];case 6:return j=h.sent(),[3,8];case 7:throw k=h.sent(),m.create("fetch-parse-error",{originalErrorMessage:k.message});case 8:if(!(l=j.ttl.match(/^([\d.]+)(s)$/))||!l[2]||isNaN(Number(l[1])))throw m.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+j.ttl});return n=1e3*Number(l[1]),o=Date.now(),[2,{token:j.attestationToken,expireTimeMillis:o+n,issuedAtTimeMillis:o}]}})})}function A(a,b){var c=a.options,d=c.projectId,e=c.appId,f=c.apiKey;return{url:v+"/projects/"+d+"/apps/"+e+":exchangeDebugToken?key="+f,body:{debug_token:b}}}var B="firebase-app-check-store",C="debug-token",D=null;function E(){return D||(D=new Promise(function(a,b){try{var c=indexedDB.open("firebase-app-check-database",1);c.onsuccess=function(b){a(b.target.result)},c.onerror=function(a){var c;b(m.create("storage-open",{originalErrorMessage:null===(c=a.target.error)|| void 0===c?void 0:c.message}))},c.onupgradeneeded=function(a){var b=a.target.result;0===a.oldVersion&&b.createObjectStore(B,{keyPath:"compositeKey"})}}catch(d){b(m.create("storage-open",{originalErrorMessage:d.message}))}}))}function F(a,b){return h.__awaiter(this,void 0,void 0,function(){var c,d,e,f;return h.__generator(this,function(g){switch(g.label){case 0:return[4,E()];case 1:return f=(e=(d=(c=g.sent()).transaction(B,"readwrite")).objectStore(B)).put({compositeKey:a,value:b}),[2,new Promise(function(a,b){f.onsuccess=function(b){a()},d.onerror=function(a){var c;b(m.create("storage-set",{originalErrorMessage:null===(c=a.target.error)|| void 0===c?void 0:c.message}))}})]}})})}function G(a){return h.__awaiter(this,void 0,void 0,function(){var b,c,d,e;return h.__generator(this,function(f){switch(f.label){case 0:return[4,E()];case 1:return e=(d=(c=(b=f.sent()).transaction(B,"readonly")).objectStore(B)).get(a),[2,new Promise(function(a,b){e.onsuccess=function(b){var c=b.target.result;c?a(c.value):a(void 0)},c.onerror=function(a){var c;b(m.create("storage-get",{originalErrorMessage:null===(c=a.target.error)|| void 0===c?void 0:c.message}))}})]}})})}function H(a){return a.options.appId+"-"+a.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var I=new j.Logger("@firebase/app-check");function J(a,b){if(i.isIndexedDBAvailable()){var c,d;return(c=a,d=b,F(H(c),d)).catch(function(a){I.warn("Failed to write token to indexeddb. Error: "+a)})}return Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ // Initial hardcoded value agreed upon across platforms for initial launch.
// Format left open for possible dynamic error values and other fields in the future.
var K={error:"UNKNOWN_ERROR"};function L(a,b,c){return void 0===c&&(c=!1),h.__awaiter(this,void 0,void 0,function(){var d,e,f,g,j,k,l,n,o,s,u,w,x,y;return h.__generator(this,function(B){switch(B.label){case 0:if(t(a),e=(d=q(a)).token,f=void 0,e)return[3,2];return[4,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Always resolves. In case of an error reading from indexeddb, resolve with undefined
 */ function(a){return h.__awaiter(this,void 0,void 0,function(){var b,c;return h.__generator(this,function(d){switch(d.label){case 0:if(!i.isIndexedDBAvailable())return[3,5];b=void 0,d.label=1;case 1:var e;return d.trys.push([1,3,,4]),[4,G(H(e=a))];case 2:return b=d.sent(),[3,4];case 3:return c=d.sent(),I.warn("Failed to read token from indexeddb. Error: "+c),[3,4];case 4:return[2,b];case 5:return[2,void 0]}})})}(a)];case 1:(g=B.sent())&&Q(g)&&(e=g,r(a,h.__assign(h.__assign({},d),{token:e})),P(a,{token:e.token})),B.label=2;case 2:if(!c&&e&&Q(e))return[2,{token:e.token}];if(!p.enabled)return[3,6];return k=z,l=A,n=[a],[4,function(){return h.__awaiter(this,void 0,void 0,function(){var a;return h.__generator(this,function(b){if((a=p).enabled&&a.token)return[2,a.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}()];case 3:return[4,k.apply(void 0,[l.apply(void 0,n.concat([B.sent()])),b])];case 4:return[4,J(a,j=B.sent())];case 5:return B.sent(),r(a,h.__assign(h.__assign({},d),{token:j})),[2,{token:j.token}];case 6:if(B.trys.push([6,12,,13]),!d.customProvider)return[3,8];return[4,d.customProvider.getToken()];case 7:return o=B.sent(),u=null!==(s=i.issuedAtTime(o.token))&&s<Date.now()&&s>0?1e3*s:Date.now(),e=h.__assign(h.__assign({},o),{issuedAtTimeMillis:u}),[3,11];case 8:return[4,(function(a){return h.__awaiter(this,void 0,void 0,function(){var b,c;return h.__generator(this,function(d){switch(d.label){case 0:return t(a),[4,(b=q(a).reCAPTCHAState).initialized.promise];case 1:return c=d.sent(),[2,new Promise(function(b,d){var e=q(a).reCAPTCHAState;c.ready(function(){b(c.execute(e.widgetId,{action:"fire_app_check"}))})})]}})})})(a).catch(function(a){throw m.create("recaptcha-error")})];case 9:var C,D,E,F,K,L;return w=B.sent(),[4,z((C=a,D=w,F=(E=C.options).projectId,K=E.appId,L=E.apiKey,{url:v+"/projects/"+F+"/apps/"+K+":exchangeRecaptchaToken?key="+L,body:{recaptcha_token:D}}),b)];case 10:e=B.sent(),B.label=11;case 11:return[3,13];case 12:return x=B.sent(),I.error(x),f=x,[3,13];case 13:if(e)return[3,14];return y=R(f),[3,16];case 14:return y={token:e.token},r(a,h.__assign(h.__assign({},d),{token:e})),[4,J(a,e)];case 15:B.sent(),B.label=16;case 16:return P(a,y),[2,y]}})})}function M(a,b,c,d,e){var f=q(a),g=h.__assign(h.__assign({},f),{tokenObservers:h.__spreadArray(h.__spreadArray([],f.tokenObservers),[{next:d,error:e,type:c}])});if(!g.tokenRefresher){var i=O(a,b);g.tokenRefresher=i}if(g.tokenRefresher.isRunning()|| !0!==f.isTokenAutoRefreshEnabled||g.tokenRefresher.start(),f.token&&Q(f.token)){var j=f.token;Promise.resolve().then(function(){return d({token:j.token})}).catch(function(){})}r(a,g)}function N(a,b){var c=q(a),d=c.tokenObservers.filter(function(a){return a.next!==b});0===d.length&&c.tokenRefresher&&c.tokenRefresher.isRunning()&&c.tokenRefresher.stop(),r(a,h.__assign(h.__assign({},c),{tokenObservers:d}))}function O(a,b){var c=this;return new x(function(){return h.__awaiter(c,void 0,void 0,function(){var c,d;return h.__generator(this,function(e){switch(e.label){case 0:if((c=q(a)).token)return[3,2];return[4,L(a,b)];case 1:return d=e.sent(),[3,4];case 2:return[4,L(a,b,!0)];case 3:d=e.sent(),e.label=4;case 4:if(d.error)throw d.error;return[2]}})})},function(){return!0},function(){var b=q(a);if(!b.token)return 0;var c=b.token.issuedAtTimeMillis+(b.token.expireTimeMillis-b.token.issuedAtTimeMillis)*.5+3e5;return c=Math.min(c,b.token.expireTimeMillis-3e5),Math.max(0,c-Date.now())},w.RETRIAL_MIN_WAIT,w.RETRIAL_MAX_WAIT)}function P(a,b){for(var c=q(a).tokenObservers,d=0,e=c;d<e.length;d++){var f=e[d];try{"EXTERNAL"===f.type&&null!=b.error?f.error(b.error):f.next(b)}catch(g){}}}function Q(a){return a.expireTimeMillis-Date.now()>0}function R(a){var b;return{token:(b=K,i.base64.encodeString(JSON.stringify(b),!1)),error:a}}var S,T="app-check-internal";(S=k.default).INTERNAL.registerComponent(new g.Component("appCheck",function(a){var b,c,d=a.getProvider("app").getImmediate(),e=a.getProvider("platform-logger");return b=d,c=e,{app:b,activate:function(a,c){return(/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 *
 * @param app
 * @param siteKeyOrProvider - optional custom attestation provider
 * or reCAPTCHA siteKey
 * @param isTokenAutoRefreshEnabled - if true, enables auto refresh
 * of appCheck token.
 */ function(a,b,c){var d,e,f,g,j,k,l,n=q(a);if(n.activated)throw m.create("already-activated",{appName:a.name});var o=h.__assign(h.__assign({},n),{activated:!0});"string"==typeof b?o.siteKey=b:o.customProvider=b,o.isTokenAutoRefreshEnabled=void 0===c?a.automaticDataCollectionEnabled:c,r(a,o),o.siteKey&&(d=a,e=o.siteKey,f=q(d),g=new i.Deferred,r(d,h.__assign(h.__assign({},f),{reCAPTCHAState:{initialized:g}})),j="fire_app_check_"+d.name,(k=document.createElement("div")).id=j,k.style.display="none",document.body.appendChild(k),(l=s())?l.ready(function(){u(d,e,l,j),g.resolve(l)}):function a(b){var c=document.createElement("script");c.src="https://www.google.com/recaptcha/api.js",c.onload=b,document.head.appendChild(c)}(function(){var a=s();if(!a)throw Error("no recaptcha");a.ready(function(){u(d,e,a,j),g.resolve(a)})}),g.promise).catch(function(){})}(b,a,c))},setTokenAutoRefreshEnabled:function(a){var c,d,e;return c=b,d=a,void((e=q(c)).tokenRefresher&&(!0===d?e.tokenRefresher.start():e.tokenRefresher.stop()),r(c,h.__assign(h.__assign({},e),{isTokenAutoRefreshEnabled:d})))},getToken:function(a){return function(a,b,c){return h.__awaiter(this,void 0,void 0,function(){var d;return h.__generator(this,function(e){switch(e.label){case 0:return[4,L(a,b,c)];case 1:if((d=e.sent()).error)throw d.error;return[2,{token:d.token}]}})})}(b,c,a)},onTokenChanged:function(a,d,e){var f,g,h,i,j,k;return f=b,g=c,h=a,i=d,j=function(){},k=function(){},j=null!=h.next?h.next.bind(h):h,null!=h.error?k=h.error.bind(h):i&&(k=i),M(f,g,"EXTERNAL",j,k),function(){return N(f,j)}},INTERNAL:{delete:function(){for(var a=q(b).tokenObservers,c=0,d=a;c<d.length;c++)N(b,d[c].next);return Promise.resolve()}}}},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(a,b,c){a.getProvider(T).initialize()})),S.INTERNAL.registerComponent(new g.Component(T,function(a){var b,c,d=a.getProvider("app").getImmediate(),e=a.getProvider("platform-logger");return b=d,c=e,{getToken:function(a){return L(b,c,a)},addTokenListener:function(a){return M(b,c,"INTERNAL",a)},removeTokenListener:function(a){return N(b,a)}}},"PUBLIC").setInstantiationMode("EXPLICIT")),S.registerVersion("@firebase/app-check","0.2.0"),function(){var a=i.getGlobal();if("string"==typeof a.FIREBASE_APPCHECK_DEBUG_TOKEN|| !0===a.FIREBASE_APPCHECK_DEBUG_TOKEN){var b=p;b.enabled=!0;var c=new i.Deferred;b.token=c,"string"==typeof a.FIREBASE_APPCHECK_DEBUG_TOKEN?c.resolve(a.FIREBASE_APPCHECK_DEBUG_TOKEN):c.resolve(function(){return h.__awaiter(this,void 0,void 0,function(){var a,b;return h.__generator(this,function(c){switch(c.label){case 0:a=void 0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,G(C)];case 2:return a=c.sent(),[3,4];case 3:return c.sent(),[3,4];case 4:var d;if(a)return[2,a];return F(C,d=b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})).catch(function(a){return I.warn("Failed to persist debug token to indexeddb. Error: "+a)}),console.log("AppCheck debug token: "+b+". You will need to whitelist it in the Firebase console for it to work"),[2,b]}})})}())}}()},6099:function(a,b,c){"use strict";c.r(b),c.d(b,{firebase:function(){return x}});var d,e,f=c(655),g=c(4589),h=c(909),i=c(4594),j=((d={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",d["bad-app-name"]="Illegal App name: '{$appName}",d["duplicate-app"]="Firebase App named '{$appName}' already exists",d["app-deleted"]="Firebase App named '{$appName}' already deleted",d["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",d["invalid-log-argument"]="First argument to `onLog` must be null or a function.",d),k=new g.ErrorFactory("app","Firebase",j),l="@firebase/app",m="[DEFAULT]",n=((e={})[l]="fire-core",e["@firebase/analytics"]="fire-analytics",e["@firebase/app-check"]="fire-app-check",e["@firebase/auth"]="fire-auth",e["@firebase/database"]="fire-rtdb",e["@firebase/functions"]="fire-fn",e["@firebase/installations"]="fire-iid",e["@firebase/messaging"]="fire-fcm",e["@firebase/performance"]="fire-perf",e["@firebase/remote-config"]="fire-rc",e["@firebase/storage"]="fire-gcs",e["@firebase/firestore"]="fire-fst",e["fire-js"]="fire-js",e["firebase-wrapper"]="fire-js-all",e),o=new i.Logger("@firebase/app"),p=function(){function a(a,b,c){var d=this;this.firebase_=c,this.isDeleted_=!1,this.name_=b.name,this.automaticDataCollectionEnabled_=b.automaticDataCollectionEnabled||!1,this.options_=(0,g.deepCopy)(a),this.container=new h.ComponentContainer(b.name),this._addComponent(new h.Component("app",function(){return d},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(a){return d._addComponent(a)})}return Object.defineProperty(a.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(a){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),a.prototype.delete=function(){var a=this;return new Promise(function(b){a.checkDestroyed_(),b()}).then(function(){return a.firebase_.INTERNAL.removeApp(a.name_),Promise.all(a.container.getProviders().map(function(a){return a.delete()}))}).then(function(){a.isDeleted_=!0})},a.prototype._getService=function(a,b){void 0===b&&(b=m),this.checkDestroyed_();var c,d=this.container.getProvider(a);return d.isInitialized()||(null===(c=d.getComponent())|| void 0===c?void 0:c.instantiationMode)!=="EXPLICIT"||d.initialize(),d.getImmediate({identifier:b})},a.prototype._removeServiceInstance=function(a,b){void 0===b&&(b=m),this.container.getProvider(a).clearInstance(b)},a.prototype._addComponent=function(a){try{this.container.addComponent(a)}catch(b){o.debug("Component "+a.name+" failed to register with FirebaseApp "+this.name,b)}},a.prototype._addOrOverwriteComponent=function(a){this.container.addOrOverwriteComponent(a)},a.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},a.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw k.create("app-deleted",{appName:this.name_})},a}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Return a firebase namespace object.
 *
 * In production, this will be called exactly once and the result
 * assigned to the 'firebase' global.  It may be called multiple times
 * in unit tests.
 */ function q(){var a=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Because auth can't share code with other components, we attach the utility functions
 * in an internal namespace to share code.
 * This function return a firebase namespace object without
 * any utility functions, so it can be shared between the regular firebaseNamespace and
 * the lite version.
 */ function(a){var b={},c=new Map,d={__esModule:!0,initializeApp:function(c,e){void 0===e&&(e={}),("object"!=typeof e||null===e)&&(e={name:e});var f=e;void 0===f.name&&(f.name=m);var h=f.name;if("string"!=typeof h||!h)throw k.create("bad-app-name",{appName:String(h)});if((0,g.contains)(b,h))throw k.create("duplicate-app",{appName:h});var i=new a(c,f,d);return b[h]=i,i},app:e,registerVersion:function(a,b,c){var d,e=null!==(d=n[a])&& void 0!==d?d:a;c&&(e+="-"+c);var g=e.match(/\s|\//),i=b.match(/\s|\//);if(g||i){var j=['Unable to register library "'+e+'" with version "'+b+'":'];g&&j.push('library name "'+e+'" contains illegal characters (whitespace or "/")'),g&&i&&j.push("and"),i&&j.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),o.warn(j.join(" "));return}f(new h.Component(e+"-version",function(){return{library:e,version:b}},"VERSION"))},setLogLevel:i.setLogLevel,onLog:function(a,b){if(null!==a&&"function"!=typeof a)throw k.create("invalid-log-argument");(0,i.setUserLogHandler)(a,b)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:f,removeApp:function(a){delete b[a]},components:c,useAsService:function(a,b){return"serverAuth"===b?null:b}}};function e(a){if(a=a||m,!(0,g.contains)(b,a))throw k.create("no-app",{appName:a});return b[a]}function f(f){var h=f.name;if(c.has(h))return o.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===f.type?d[h]:null;if(c.set(h,f),"PUBLIC"===f.type){var i=function(a){if(void 0===a&&(a=e()),"function"!=typeof a[h])throw k.create("invalid-app-argument",{appName:h});return a[h]()};void 0!==f.serviceProps&&(0,g.deepExtend)(i,f.serviceProps),d[h]=i,a.prototype[h]=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return this._getService.bind(this,h).apply(this,f.multipleInstances?a:[])}}for(var j=0,l=Object.keys(b);j<l.length;j++)b[l[j]]._addComponent(f);return"PUBLIC"===f.type?d[h]:null}return d.default=d,Object.defineProperty(d,"apps",{get:function(){return Object.keys(b).map(function(a){return b[a]})}}),e.App=a,d}(p);return a.INTERNAL=(0,f.__assign)((0,f.__assign)({},a.INTERNAL),{createFirebaseNamespace:q,extendNamespace:function(b){(0,g.deepExtend)(a,b)},createSubscribe:g.createSubscribe,ErrorFactory:g.ErrorFactory,deepExtend:g.deepExtend}),a}p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var r=q(),s=function(){function a(a){this.container=a}return a.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(a){if(!t(a))return null;var b=a.getImmediate();return b.library+"/"+b.version}).filter(function(a){return a}).join(" ")},a}();function t(a){var b=a.getComponent();return(null==b?void 0:b.type)==="VERSION"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ // Firebase Lite detection test
// eslint-disable-next-line @typescript-eslint/no-explicit-any
if((0,g.isBrowser)()&& void 0!==self.firebase){o.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var u=self.firebase.SDK_VERSION;u&&u.indexOf("LITE")>=0&&o.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=r.initializeApp;r.initializeApp=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,g.isNode)()&&o.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,a)};var w,x=r;(w=x).INTERNAL.registerComponent(new h.Component("platform-logger",function(a){return new s(a)},"PRIVATE")),w.registerVersion(l,"0.6.28",void 0),w.registerVersion("fire-js",""),b.default=x},909:function(a,b,c){"use strict";c.r(b),c.d(b,{Component:function(){return f},ComponentContainer:function(){return k},Provider:function(){return h}});var d=c(655),e=c(4589),f=function(){function a(a,b,c){this.name=a,this.instanceFactory=b,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return a.prototype.setInstantiationMode=function(a){return this.instantiationMode=a,this},a.prototype.setMultipleInstances=function(a){return this.multipleInstances=a,this},a.prototype.setServiceProps=function(a){return this.serviceProps=a,this},a.prototype.setInstanceCreatedCallback=function(a){return this.onInstanceCreated=a,this},a}(),g="[DEFAULT]",h=function(){function a(a,b){this.name=a,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return a.prototype.get=function(a){var b=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(b)){var c=new e.Deferred;if(this.instancesDeferred.set(b,c),this.isInitialized(b)||this.shouldAutoInitialize())try{var d=this.getOrInitializeService({instanceIdentifier:b});d&&c.resolve(d)}catch(f){}}return this.instancesDeferred.get(b).promise},a.prototype.getImmediate=function(a){var b,c=this.normalizeInstanceIdentifier(null==a?void 0:a.identifier),d=null!==(b=null==a?void 0:a.optional)&& void 0!==b&&b;if(this.isInitialized(c)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:c})}catch(e){if(d)return null;throw e}else{if(d)return null;throw Error("Service "+this.name+" is not available")}},a.prototype.getComponent=function(){return this.component},a.prototype.setComponent=function(a){var b,c;if(a.name!==this.name)throw Error("Mismatching Component "+a.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=a,this.shouldAutoInitialize()){if(j(a))try{this.getOrInitializeService({instanceIdentifier:g})}catch(e){}try{for(var f=(0,d.__values)(this.instancesDeferred.entries()),h=f.next();!h.done;h=f.next()){var i=(0,d.__read)(h.value,2),k=i[0],l=i[1],m=this.normalizeInstanceIdentifier(k);try{var n=this.getOrInitializeService({instanceIdentifier:m});l.resolve(n)}catch(o){}}}catch(p){b={error:p}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}}},a.prototype.clearInstance=function(a){void 0===a&&(a=g),this.instancesDeferred.delete(a),this.instances.delete(a)},a.prototype.delete=function(){return(0,d.__awaiter)(this,void 0,void 0,function(){var a;return(0,d.__generator)(this,function(b){switch(b.label){case 0:return a=Array.from(this.instances.values()),[4,Promise.all((0,d.__spreadArray)((0,d.__spreadArray)([],(0,d.__read)(a.filter(function(a){return"INTERNAL"in a}).map(function(a){return a.INTERNAL.delete()}))),(0,d.__read)(a.filter(function(a){return"_delete"in a}).map(function(a){return a._delete()}))))];case 1:return b.sent(),[2]}})})},a.prototype.isComponentSet=function(){return null!=this.component},a.prototype.isInitialized=function(a){return void 0===a&&(a=g),this.instances.has(a)},a.prototype.initialize=function(a){void 0===a&&(a={});var b,c,e=a.options,f=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(f))throw Error(this.name+"("+f+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var g=this.getOrInitializeService({instanceIdentifier:f,options:void 0===e?{}:e});try{for(var h=(0,d.__values)(this.instancesDeferred.entries()),i=h.next();!i.done;i=h.next()){var j=(0,d.__read)(i.value,2),k=j[0],l=j[1],m=this.normalizeInstanceIdentifier(k);f===m&&l.resolve(g)}}catch(n){b={error:n}}finally{try{i&&!i.done&&(c=h.return)&&c.call(h)}finally{if(b)throw b.error}}return g},a.prototype.onInit=function(a,b){var c,d=this.normalizeInstanceIdentifier(b),e=null!==(c=this.onInitCallbacks.get(d))&& void 0!==c?c:new Set;e.add(a),this.onInitCallbacks.set(d,e);var f=this.instances.get(d);return f&&a(f,d),function(){e.delete(a)}},a.prototype.invokeOnInitCallbacks=function(a,b){var c,e,f=this.onInitCallbacks.get(b);if(f)try{for(var g=(0,d.__values)(f),h=g.next();!h.done;h=g.next()){var i=h.value;try{i(a,b)}catch(j){}}}catch(k){c={error:k}}finally{try{h&&!h.done&&(e=g.return)&&e.call(g)}finally{if(c)throw c.error}}},a.prototype.getOrInitializeService=function(a){var b=a.instanceIdentifier,c=a.options,d=this.instances.get(b);if(!d&&this.component&&(d=this.component.instanceFactory(this.container,{instanceIdentifier:i(b),options:void 0===c?{}:c}),this.instances.set(b,d),this.invokeOnInitCallbacks(d,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,d)}catch(e){}return d||null},a.prototype.normalizeInstanceIdentifier=function(a){return(void 0===a&&(a=g),this.component)?this.component.multipleInstances?a:g:a},a.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},a}();function i(a){return a===g?void 0:a}function j(a){return"EAGER"===a.instantiationMode}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`
 */ var k=function(){function a(a){this.name=a,this.providers=new Map}return a.prototype.addComponent=function(a){var b=this.getProvider(a.name);if(b.isComponentSet())throw Error("Component "+a.name+" has already been registered with "+this.name);b.setComponent(a)},a.prototype.addOrOverwriteComponent=function(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.addComponent(a)},a.prototype.getProvider=function(a){if(this.providers.has(a))return this.providers.get(a);var b=new h(a,this);return this.providers.set(a,b),b},a.prototype.getProviders=function(){return Array.from(this.providers.values())},a}()},8483:function(a,b,c){"use strict";var d=c(6099),e=c(5137),f=c(909);c(4589),c(4594),c(3705);var g,h={Firestore:e.U,GeoPoint:e.C,Timestamp:e.M,Blob:e.a,Transaction:e.j,WriteBatch:e.W,DocumentReference:e.z,DocumentSnapshot:e.X,Query:e.t,QueryDocumentSnapshot:e.Z,QuerySnapshot:e.n,CollectionReference:e.s,FieldPath:e.r,FieldValue:e.o,setLogLevel:e.Q,CACHE_SIZE_UNLIMITED:e.E};!function(a,b){a.INTERNAL.registerComponent(new f.Component("firestore",function(a){return b(a.getProvider("app").getImmediate(),a.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},h)))}(g=d.default,function(a,b){return new e.U(a,new e.T(a,b),new e.q)}),g.registerVersion("@firebase/firestore","2.3.9")},4594:function(a,b,c){"use strict";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */ function d(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}c.r(b),c.d(b,{LogLevel:function(){return f},Logger:function(){return m},setLogLevel:function(){return n},setUserLogHandler:function(){return o}});var e,f,g,h=[];(g=f||(f={}))[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT";var i={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},j=f.INFO,k=((e={})[f.DEBUG]="log",e[f.VERBOSE]="log",e[f.INFO]="info",e[f.WARN]="warn",e[f.ERROR]="error",e),l=function(a,b){for(var c=[],e=2;e<arguments.length;e++)c[e-2]=arguments[e];if(!(b<a.logLevel)){var f=new Date().toISOString(),g=k[b];if(g)console[g].apply(console,d(["["+f+"]  "+a.name+":"],c));else throw Error("Attempted to log a message with an invalid logType (value: "+b+")")}},m=function(){function a(a){this.name=a,this._logLevel=j,this._logHandler=l,this._userLogHandler=null,h.push(this)}return Object.defineProperty(a.prototype,"logLevel",{get:function(){return this._logLevel},set:function(a){if(!(a in f))throw TypeError('Invalid value "'+a+'" assigned to `logLevel`');this._logLevel=a},enumerable:!1,configurable:!0}),a.prototype.setLogLevel=function(a){this._logLevel="string"==typeof a?i[a]:a},Object.defineProperty(a.prototype,"logHandler",{get:function(){return this._logHandler},set:function(a){if("function"!=typeof a)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(a){this._userLogHandler=a},enumerable:!1,configurable:!0}),a.prototype.debug=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._userLogHandler&&this._userLogHandler.apply(this,d([this,f.DEBUG],a)),this._logHandler.apply(this,d([this,f.DEBUG],a))},a.prototype.log=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._userLogHandler&&this._userLogHandler.apply(this,d([this,f.VERBOSE],a)),this._logHandler.apply(this,d([this,f.VERBOSE],a))},a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._userLogHandler&&this._userLogHandler.apply(this,d([this,f.INFO],a)),this._logHandler.apply(this,d([this,f.INFO],a))},a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._userLogHandler&&this._userLogHandler.apply(this,d([this,f.WARN],a)),this._logHandler.apply(this,d([this,f.WARN],a))},a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._userLogHandler&&this._userLogHandler.apply(this,d([this,f.ERROR],a)),this._logHandler.apply(this,d([this,f.ERROR],a))},a}();function n(a){h.forEach(function(b){b.setLogLevel(a)})}function o(a,b){for(var c=0,d=h;c<d.length;c++)!function(c){var d=null;b&&b.level&&(d=i[b.level]),null===a?c.userLogHandler=null:c.userLogHandler=function(b,c){for(var e=[],g=2;g<arguments.length;g++)e[g-2]=arguments[g];var h=e.map(function(a){if(null==a)return null;if("string"==typeof a)return a;if("number"==typeof a||"boolean"==typeof a)return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch(b){return null}}).filter(function(a){return a}).join(" ");c>=(null!=d?d:b.logLevel)&&a({level:f[c].toLowerCase(),message:h,args:e,type:b.name})}}(d[c])}},4589:function(a,b,c){"use strict";c.r(b),c.d(b,{CONSTANTS:function(){return e},Deferred:function(){return p},ErrorFactory:function(){return H},FirebaseError:function(){return G},MAX_VALUE_MILLIS:function(){return aj},RANDOM_FACTOR:function(){return ak},Sha1:function(){return Y},areCookiesEnabled:function(){return E},assert:function(){return f},assertionError:function(){return g},async:function(){return _},base64:function(){return j},base64Decode:function(){return l},base64Encode:function(){return k},calculateBackoffMillis:function(){return al},contains:function(){return R},createMockUserToken:function(){return q},createSubscribe:function(){return Z},decode:function(){return M},deepCopy:function(){return m},deepExtend:function(){return n},errorPrefix:function(){return ad},extractQuerystring:function(){return X},getGlobal:function(){return F},getModularInstance:function(){return ao},getUA:function(){return r},isAdmin:function(){return Q},isBrowser:function(){return u},isBrowserExtension:function(){return v},isElectron:function(){return x},isEmpty:function(){return T},isIE:function(){return y},isIndexedDBAvailable:function(){return C},isMobileCordova:function(){return s},isNode:function(){return t},isNodeSdk:function(){return A},isReactNative:function(){return w},isSafari:function(){return B},isUWP:function(){return z},isValidFormat:function(){return P},isValidTimestamp:function(){return N},issuedAtTime:function(){return O},jsonEval:function(){return K},map:function(){return U},ordinal:function(){return am},querystring:function(){return V},querystringDecode:function(){return W},safeGet:function(){return S},stringLength:function(){return ai},stringToByteArray:function(){return ah},stringify:function(){return L},validateArgCount:function(){return ac},validateCallback:function(){return af},validateContextObject:function(){return ag},validateIndexedDBOpenable:function(){return D},validateNamespace:function(){return ae}});var d=c(655),e={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},f=function(a,b){if(!a)throw g(b)},g=function(a){return Error("Firebase Database ("+e.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)},h=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);e<128?b[c++]=e:e<2048?(b[c++]=e>>6|192,b[c++]=63&e|128):(64512&e)==55296&&d+1<a.length&&(64512&a.charCodeAt(d+1))==56320?(e=65536+((1023&e)<<10)+(1023&a.charCodeAt(++d)),b[c++]=e>>18|240,b[c++]=e>>12&63|128,b[c++]=e>>6&63|128,b[c++]=63&e|128):(b[c++]=e>>12|224,b[c++]=e>>6&63|128,b[c++]=63&e|128)}return b},i=function(a){for(var b=[],c=0,d=0;c<a.length;){var e=a[c++];if(e<128)b[d++]=String.fromCharCode(e);else if(e>191&&e<224){var f=a[c++];b[d++]=String.fromCharCode((31&e)<<6|63&f)}else if(e>239&&e<365){var f=a[c++],g=a[c++],h=((7&e)<<18|(63&f)<<12|(63&g)<<6|63&a[c++])-65536;b[d++]=String.fromCharCode(55296+(h>>10)),b[d++]=String.fromCharCode(56320+(1023&h))}else{var f=a[c++],g=a[c++];b[d++]=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g)}}return b.join("")},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(a,b){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var c=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,h=g?a[e+1]:0,i=e+2<a.length,j=i?a[e+2]:0,k=f>>2,l=(3&f)<<4|h>>4,m=(15&h)<<2|j>>6,n=63&j;i||(n=64,g||(m=64)),d.push(c[k],c[l],c[m],c[n])}return d.join("")},encodeString:function(a,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(a):this.encodeByteArray(h(a),b)},decodeString:function(a,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(a):i(this.decodeStringToByteArray(a,b))},decodeStringToByteArray:function(a,b){this.init_();for(var c=b?this.charToByteMapWebSafe_:this.charToByteMap_,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0,h=++e<a.length?c[a.charAt(e)]:64,i=++e<a.length?c[a.charAt(e)]:64;if(++e,null==f||null==g||null==h||null==i)throw Error();var j=f<<2|g>>4;if(d.push(j),64!==h){var k=g<<4&240|h>>2;if(d.push(k),64!==i){var l=h<<6&192|i;d.push(l)}}}return d},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}},k=function(a){var b=h(a);return j.encodeByteArray(b,!0)},l=function(a){try{return j.decodeString(a,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Do a deep-copy of basic JavaScript Objects or Arrays.
 */ function m(a){return n(void 0,a)}function n(a,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:var c=b;return new Date(c.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return b}for(var d in b)b.hasOwnProperty(d)&&o(d)&&(a[d]=n(a[d],b[d]));return a}function o(a){return"__proto__"!==a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var p=function(){function a(){var a=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(b,c){a.resolve=b,a.reject=c})}return a.prototype.wrapCallback=function(a){var b=this;return function(c,d){c?b.reject(c):b.resolve(d),"function"==typeof a&&(b.promise.catch(function(){}),1===a.length?a(c):a(c,d))}},a}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function q(a,b){if(a.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var c=b||"demo-project",e=a.iat||0,f=a.sub||a.user_id;if(!f)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");var g=(0,d.__assign)({iss:"https://securetoken.google.com/"+c,aud:c,iat:e,exp:e+3600,auth_time:e,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},a);return[j.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),j.encodeString(JSON.stringify(g),!1),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Returns navigator.userAgent string or '' if it's not defined.
 * @return user agent string
 */ function r(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function s(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(r())}function t(){try{return"[object process]"===Object.prototype.toString.call(c.g.process)}catch(a){return!1}}function u(){return"object"==typeof self&&self.self===self}function v(){var a="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof a&& void 0!==a.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function x(){return r().indexOf("Electron/")>=0}function y(){var a=r();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function z(){return r().indexOf("MSAppHost/")>=0}function A(){return!0===e.NODE_CLIENT|| !0===e.NODE_ADMIN}function B(){return!t()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){return"indexedDB"in self&&null!=indexedDB}function D(){return new Promise(function(a,b){try{var c=!0,d="validate-browser-context-for-indexeddb-analytics-module",e=self.indexedDB.open(d);e.onsuccess=function(){e.result.close(),c||self.indexedDB.deleteDatabase(d),a(!0)},e.onupgradeneeded=function(){c=!1},e.onerror=function(){var a;b((null===(a=e.error)|| void 0===a?void 0:a.message)||"")}}catch(f){b(f)}})}function E(){return!!navigator&&!!navigator.cookieEnabled}function F(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==c.g)return c.g;throw Error("Unable to locate global object.")}var G=function(a){function b(c,d,e){var f=a.call(this,d)||this;return f.code=c,f.customData=e,f.name="FirebaseError",Object.setPrototypeOf(f,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(f,H.prototype.create),f}return(0,d.__extends)(b,a),b}(Error),H=function(){function a(a,b,c){this.service=a,this.serviceName=b,this.errors=c}return a.prototype.create=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=b[0]||{},e=this.service+"/"+a,f=this.errors[a],g=f?I(f,d):"Error",h=this.serviceName+": "+g+" ("+e+").";return new G(e,h,d)},a}();function I(a,b){return a.replace(J,function(a,c){var d=b[c];return null!=d?String(d):"<"+c+"?>"})}var J=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Evaluates a JSON string into a javascript object.
 *
 * @param {string} str A string containing JSON.
 * @return {*} The javascript object representing the specified JSON.
 */ function K(a){return JSON.parse(a)}function L(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Decodes a Firebase auth. token into constituent parts.
 *
 * Notes:
 * - May return with invalid / incomplete claims if there's no native base64 decoding support.
 * - Doesn't check if the token is actually valid.
 */ var M=function(a){var b={},c={},d={},e="";try{var f=a.split(".");b=K(l(f[0])||""),c=K(l(f[1])||""),e=f[2],d=c.d||{},delete c.d}catch(g){}return{header:b,claims:c,data:d,signature:e}},N=function(a){var b=M(a).claims,c=Math.floor(new Date().getTime()/1e3),d=0,e=0;return"object"==typeof b&&(b.hasOwnProperty("nbf")?d=b.nbf:b.hasOwnProperty("iat")&&(d=b.iat),e=b.hasOwnProperty("exp")?b.exp:d+86400),!!c&&!!d&&!!e&&c>=d&&c<=e},O=function(a){var b=M(a).claims;return"object"==typeof b&&b.hasOwnProperty("iat")?b.iat:null},P=function(a){var b=M(a).claims;return!!b&&"object"==typeof b&&b.hasOwnProperty("iat")},Q=function(a){var b=M(a).claims;return"object"==typeof b&& !0===b.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function R(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function S(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0}function T(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0}function U(a,b,c){var d={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=b.call(c,a[e],e,a));return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a
 * params object (e.g. {arg: 'val', arg2: 'val2'})
 * Note: You must prepend it with ? when adding it to a URL.
 */ function V(a){for(var b=[],c=function(a,c){Array.isArray(c)?c.forEach(function(c){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))},d=0,e=Object.entries(a);d<e.length;d++){var f=e[d],g=f[0],h=f[1];c(g,h)}return b.length?"&"+b.join("&"):""}function W(a){var b={};return a.replace(/^\?/,"").split("&").forEach(function(a){if(a){var c=a.split("="),d=c[0],e=c[1];b[decodeURIComponent(d)]=decodeURIComponent(e)}}),b}function X(a){var b=a.indexOf("?");if(!b)return"";var c=a.indexOf("#",b);return a.substring(b,c>0?c:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @fileoverview SHA-1 cryptographic hash.
 * Variable names follow the notation in FIPS PUB 180-3:
 * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.
 *
 * Usage:
 *   var sha1 = new sha1();
 *   sha1.update(bytes);
 *   var hash = sha1.digest();
 *
 * Performance:
 *   Chrome 23:   ~400 Mbit/s
 *   Firefox 16:  ~250 Mbit/s
 *
 */ /**
 * SHA-1 cryptographic hash constructor.
 *
 * The properties declared here are discussed in the above algorithm document.
 * @constructor
 * @final
 * @struct
 */ var Y=function(){function a(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var a=1;a<this.blockSize;++a)this.pad_[a]=0;this.reset()}return a.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},a.prototype.compress_=function(a,b){b||(b=0);var c,d,e=this.W_;if("string"==typeof a)for(var f=0;f<16;f++)e[f]=a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3),b+=4;else for(var f=0;f<16;f++)e[f]=a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3],b+=4;for(var f=16;f<80;f++){var g=e[f-3]^e[f-8]^e[f-14]^e[f-16];e[f]=(g<<1|g>>>31)&4294967295}for(var h=this.chain_[0],i=this.chain_[1],j=this.chain_[2],k=this.chain_[3],l=this.chain_[4],f=0;f<80;f++){f<40?f<20?(c=k^i&(j^k),d=1518500249):(c=i^j^k,d=1859775393):f<60?(c=i&j|k&(i|j),d=2400959708):(c=i^j^k,d=3395469782);var g=(h<<5|h>>>27)+c+l+d+e[f]&4294967295;l=k,k=j,j=(i<<30|i>>>2)&4294967295,i=h,h=g}this.chain_[0]=this.chain_[0]+h&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+j&4294967295,this.chain_[3]=this.chain_[3]+k&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},a.prototype.update=function(a,b){if(null!=a){void 0===b&&(b=a.length);for(var c=b-this.blockSize,d=0,e=this.buf_,f=this.inbuf_;d<b;){if(0===f)for(;d<=c;)this.compress_(a,d),d+=this.blockSize;if("string"==typeof a){for(;d<b;)if(e[f]=a.charCodeAt(d),++f,++d,f===this.blockSize){this.compress_(e),f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f===this.blockSize){this.compress_(e),f=0;break}}this.inbuf_=f,this.total_+=b}},a.prototype.digest=function(){var a=[],b=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var c=this.blockSize-1;c>=56;c--)this.buf_[c]=255&b,b/=256;this.compress_(this.buf_);for(var d=0,c=0;c<5;c++)for(var e=24;e>=0;e-=8)a[d]=this.chain_[c]>>e&255,++d;return a},a}();function Z(a,b){var c=new $(a,b);return c.subscribe.bind(c)}var $=function(){function a(a,b){var c=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(function(){a(c)}).catch(function(a){c.error(a)})}return a.prototype.next=function(a){this.forEachObserver(function(b){b.next(a)})},a.prototype.error=function(a){this.forEachObserver(function(b){b.error(a)}),this.close(a)},a.prototype.complete=function(){this.forEachObserver(function(a){a.complete()}),this.close()},a.prototype.subscribe=function(a,b,c){var d,e=this;if(void 0===a&& void 0===b&& void 0===c)throw Error("Missing Observer.");void 0===(d=aa(a,["next","error","complete"])?a:{next:a,error:b,complete:c}).next&&(d.next=ab),void 0===d.error&&(d.error=ab),void 0===d.complete&&(d.complete=ab);var f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{e.finalError?d.error(e.finalError):d.complete()}catch(a){}}),this.observers.push(d),f},a.prototype.unsubscribeOne=function(a){void 0!==this.observers&& void 0!==this.observers[a]&&(delete this.observers[a],this.observerCount-=1,0===this.observerCount&& void 0!==this.onNoObservers&&this.onNoObservers(this))},a.prototype.forEachObserver=function(a){if(!this.finalized)for(var b=0;b<this.observers.length;b++)this.sendOne(b,a)},a.prototype.sendOne=function(a,b){var c=this;this.task.then(function(){if(void 0!==c.observers&& void 0!==c.observers[a])try{b(c.observers[a])}catch(d){"undefined"!=typeof console&&console.error&&console.error(d)}})},a.prototype.close=function(a){var b=this;!this.finalized&&(this.finalized=!0,void 0!==a&&(this.finalError=a),this.task.then(function(){b.observers=void 0,b.onNoObservers=void 0}))},a}();function _(a,b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];Promise.resolve(!0).then(function(){a.apply(void 0,c)}).catch(function(a){b&&b(a)})}}function aa(a,b){if("object"!=typeof a||null===a)return!1;for(var c=0,d=b;c<d.length;c++){var e=d[c];if(e in a&&"function"==typeof a[e])return!0}return!1}function ab(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Check to make sure the appropriate number of arguments are provided for a public function.
 * Throws an error if it fails.
 *
 * @param fnName The function name
 * @param minCount The minimum number of arguments to allow for the function call
 * @param maxCount The maximum number of argument to allow for the function call
 * @param argCount The actual number of arguments provided.
 */ var ac=function(a,b,c,d){var e;if(d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".")};function ad(a,b){return a+" failed: "+b+" argument "}function ae(a,b,c){if((!c||b)&&"string"!=typeof b)throw Error(ad(a,"namespace")+"must be a valid firebase namespace.")}function af(a,b,c,d){if((!d||c)&&"function"!=typeof c)throw Error(ad(a,b)+"must be a valid function.")}function ag(a,b,c,d){if((!d||c)&&("object"!=typeof c||null===c))throw Error(ad(a,b)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ // Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they
// automatically replaced '\r\n' with '\n', and they didn't handle surrogate pairs,
// so it's been modified.
// Note that not all Unicode characters appear as single characters in JavaScript strings.
// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters
// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first
// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate
// pair).
// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3
/**
 * @param {string} str
 * @return {Array}
 */ var ah=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);if(e>=55296&&e<=56319){var g=e-55296;f(++d<a.length,"Surrogate pair missing trail surrogate.");var h=a.charCodeAt(d)-56320;e=65536+(g<<10)+h}e<128?b[c++]=e:e<2048?(b[c++]=e>>6|192,b[c++]=63&e|128):e<65536?(b[c++]=e>>12|224,b[c++]=e>>6&63|128,b[c++]=63&e|128):(b[c++]=e>>18|240,b[c++]=e>>12&63|128,b[c++]=e>>6&63|128,b[c++]=63&e|128)}return b},ai=function(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b++:d<2048?b+=2:d>=55296&&d<=56319?(b+=4,c++):b+=3}return b},aj=144e5,ak=.5;function al(a,b,c){void 0===b&&(b=1e3),void 0===c&&(c=2);var d=b*Math.pow(c,a);return Math.min(aj,d+Math.round(ak*d*(Math.random()-.5)*2))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Provide English ordinal letters after a number
 */ function am(a){return Number.isFinite(a)?a+an(a):""+a}function an(a){var b=(a=Math.abs(a))%100;if(b>=10&&b<=20)return"th";var c=a%10;return 1===c?"st":2===c?"nd":3===c?"rd":"th"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ao(a){return a&&a._delegate?a._delegate:a}},3705:function(a,b,c){"use strict";c.d(b,{FJ:function(){return cS},JJ:function(){return cZ},UE:function(){return cR},ii:function(){return cY},jK:function(){return cT},ju:function(){return cV},kN:function(){return cW},tw:function(){return cU},zI:function(){return cX}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var d,e,f,g,h,i,j,k=function(a,b){return(k=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function l(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}var m,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==c.g?c.g:"undefined"!=typeof self?self:{},o=o||{},p=n||self;function q(){}function r(a){var b=typeof a;return"array"==(b="object"!=b?b:a?Array.isArray(a)?"array":b:"null")||"object"==b&&"number"==typeof a.length}function s(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function t(a,b,c){return a.call.apply(a.bind,arguments)}function u(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function v(a,b,c){return(v=Function.prototype.bind&& -1!=Function.prototype.bind.toString().indexOf("native code")?t:u).apply(null,arguments)}function w(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}}function x(a,b){function c(){}c.prototype=b.prototype,a.Z=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Vb=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}}function y(){this.s=this.s,this.o=this.o}y.prototype.s=!1,y.prototype.na=function(){this.s||(this.s=!0,this.M())},y.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var z=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return -1},A=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"==typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function B(a){return Array.prototype.concat.apply([],arguments)}function C(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function D(a){return/^[\s\xa0]*$/.test(a)}var E=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function F(a,b){return -1!=a.indexOf(b)}function G(a,b){return a<b?-1:a>b?1:0}a:{var H=p.navigator;if(H){var I=H.userAgent;if(I){f=I;break a}}f=""}function J(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function K(a){var b={};for(var c in a)b[c]=a[c];return b}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(a,b){for(var c,d,e=1;e<arguments.length;e++){for(c in d=arguments[e])a[c]=d[c];for(var f=0;f<L.length;f++)c=L[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function N(a){return N[" "](a),a}N[" "]=q;var O=F(f,"Opera"),P=F(f,"Trident")||F(f,"MSIE"),Q=F(f,"Edge"),R=Q||P,S=F(f,"Gecko")&&!(F(f.toLowerCase(),"webkit")&&!F(f,"Edge"))&&!(F(f,"Trident")||F(f,"MSIE"))&&!F(f,"Edge"),T=F(f.toLowerCase(),"webkit")&&!F(f,"Edge");function U(){var a=p.document;return a?a.documentMode:void 0}a:{var V,W="",X=(V=f,S?/rv:([^\);]+)(\)|;)/.exec(V):Q?/Edge\/([\d\.]+)/.exec(V):P?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(V):T?/WebKit\/(\S+)/.exec(V):O?/(?:Version)[ \/]?(\S+)/.exec(V):void 0);if(X&&(W=X?X[1]:""),P){var Y=U();if(null!=Y&&Y>parseFloat(W)){g=String(Y);break a}}g=W}var Z={};if(p.document&&P){h=U()||parseInt(g,10)||void 0}else h=void 0;var $=h,_=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{p.addEventListener("test",q,b),p.removeEventListener("test",q,b)}catch(c){}return a}();function aa(a,b){this.type=a,this.g=this.target=b,this.defaultPrevented=!1}function ab(a,b){if(aa.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=b,b=a.relatedTarget){if(S){a:{try{N(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:ac[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ab.Z.h.call(this)}}aa.prototype.h=function(){this.defaultPrevented=!0},x(ab,aa);var ac={2:"touch",3:"pen",4:"mouse"};ab.prototype.h=function(){ab.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ad="closure_listenable_"+(1e6*Math.random()|0),ae=0;function af(a,b,c,d,e){this.listener=a,this.proxy=null,this.src=b,this.type=c,this.capture=!!d,this.ia=e,this.key=++ae,this.ca=this.fa=!1}function ag(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function ah(a){this.src=a,this.g={},this.h=0}function ai(a,b){var c=b.type;if(c in a.g){var d,e=a.g[c],f=z(e,b);(d=0<=f)&&Array.prototype.splice.call(e,f,1),d&&(ag(b),0==a.g[c].length&&(delete a.g[c],a.h--))}}function aj(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ca&&f.listener==b&& !!c==f.capture&&f.ia==d)return e}return -1}ah.prototype.add=function(a,b,c,d,e){var f=a.toString();(a=this.g[f])||(a=this.g[f]=[],this.h++);var g=aj(a,b,d,e);return -1<g?(b=a[g],c||(b.fa=!1)):((b=new af(b,this.src,f,!!d,e)).fa=c,a.push(b)),b};var ak="closure_lm_"+(1e6*Math.random()|0),al={};function am(a,b,c,d,e){if(d&&d.once)return ap(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)am(a,b[f],c,d,e);return null}return c=aw(c),a&&a[ad]?a.N(b,c,s(d)?!!d.capture:!!d,e):an(a,b,c,!1,d,e)}function an(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=s(e)?!!e.capture:!!e,h=au(a);if(h||(a[ak]=h=new ah(a)),(c=h.add(b,c,d,g,f)).proxy)return c;if(d=ao(),c.proxy=d,d.src=a,d.listener=c,a.addEventListener)_||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(as(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return c}function ao(){function a(c){return b.call(a.src,a.listener,c)}var b=at;return a}function ap(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)ap(a,b[f],c,d,e);return null}return c=aw(c),a&&a[ad]?a.O(b,c,s(d)?!!d.capture:!!d,e):an(a,b,c,!0,d,e)}function aq(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)aq(a,b[f],c,d,e);else(d=s(d)?!!d.capture:!!d,c=aw(c),a&&a[ad])?(a=a.i,(b=String(b).toString())in a.g&& -1<(c=aj(f=a.g[b],c,d,e))&&(ag(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.g[b],a.h--))):a&&(a=au(a))&&(b=a.g[b.toString()],a=-1,b&&(a=aj(b,c,d,e)),(c=-1<a?b[a]:null)&&ar(c))}function ar(a){if("number"!=typeof a&&a&&!a.ca){var b=a.src;if(b&&b[ad])ai(b.i,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(as(c),d):b.addListener&&b.removeListener&&b.removeListener(d),(c=au(b))?(ai(c,a),0==c.h&&(c.src=null,b[ak]=null)):ag(a)}}}function as(a){return a in al?al[a]:al[a]="on"+a}function at(a,b){if(a.ca)a=!0;else{b=new ab(b,this);var c=a.listener,d=a.ia||a.src;a.fa&&ar(a),a=c.call(d,b)}return a}function au(a){return(a=a[ak])instanceof ah?a:null}var av="__closure_events_fn_"+(1e9*Math.random()>>>0);function aw(a){return"function"==typeof a?a:(a[av]||(a[av]=function(b){return a.handleEvent(b)}),a[av])}function ax(){y.call(this),this.i=new ah(this),this.P=this,this.I=null}function ay(a,b){var c,d=a.I;if(d)for(c=[];d;d=d.I)c.push(d);if(a=a.P,d=b.type||b,"string"==typeof b)b=new aa(b,a);else if(b instanceof aa)b.target=b.target||a;else{var e=b;M(b=new aa(d,a),e)}if(e=!0,c)for(var f=c.length-1;0<=f;f--){var g=b.g=c[f];e=az(g,d,!0,b)&&e}if(e=az(g=b.g=a,d,!0,b)&&e,e=az(g,d,!1,b)&&e,c)for(f=0;f<c.length;f++)e=az(g=b.g=c[f],d,!1,b)&&e}function az(a,b,c,d){if(!(b=a.i.g[String(b)]))return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.ca&&g.capture==c){var h=g.listener,i=g.ia||g.src;g.fa&&ai(a.i,g),e=!1!==h.call(i,d)&&e}}return e&&!d.defaultPrevented}x(ax,y),ax.prototype[ad]=!0,ax.prototype.removeEventListener=function(a,b,c,d){aq(this,a,b,c,d)},ax.prototype.M=function(){if(ax.Z.M.call(this),this.i){var a,b=this.i;for(a in b.g){for(var c=b.g[a],d=0;d<c.length;d++)ag(c[d]);delete b.g[a],b.h--}}this.I=null},ax.prototype.N=function(a,b,c,d){return this.i.add(String(a),b,!1,c,d)},ax.prototype.O=function(a,b,c,d){return this.i.add(String(a),b,!0,c,d)};var aA=p.JSON.stringify;function aB(){var a=aJ,b=null;return a.g&&(b=a.g,a.g=a.g.next,a.g||(a.h=null),b.next=null),b}var aC=function(){function a(){this.h=this.g=null}return a.prototype.add=function(a,b){var c=aD.get();c.set(a,b),this.h?this.h.next=c:this.g=c,this.h=c},a}(),aD=new(function(){function a(a,b){this.i=a,this.j=b,this.h=0,this.g=null}return a.prototype.get=function(){var a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a},a}())(function(){return new aE},function(a){return a.reset()}),aE=function(){function a(){this.next=this.g=this.h=null}return a.prototype.set=function(a,b){this.h=a,this.g=b,this.next=null},a.prototype.reset=function(){this.next=this.g=this.h=null},a}();function aF(a){p.setTimeout(function(){throw a},0)}function aG(a,b){i||aH(),aI||(i(),aI=!0),aJ.add(a,b)}function aH(){var a=p.Promise.resolve(void 0);i=function(){a.then(aK)}}var aI=!1,aJ=new aC;function aK(){for(var a;a=aB();){try{a.h.call(a.g)}catch(b){aF(b)}var c=aD;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}aI=!1}function aL(a,b){ax.call(this),this.h=a||1,this.g=b||p,this.j=v(this.kb,this),this.l=Date.now()}function aM(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function aN(a,b,c){if("function"==typeof a)c&&(a=v(a,c));else if(a&&"function"==typeof a.handleEvent)a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:p.setTimeout(a,b||0)}function aO(a){a.g=aN(function(){a.g=null,a.i&&(a.i=!1,aO(a))},a.j);var b=a.h;a.h=null,a.m.apply(null,b)}x(aL,ax),(m=aL.prototype).da=!1,m.S=null,m.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ay(this,"tick"),this.da&&(aM(this),this.start()))}},m.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},m.M=function(){aL.Z.M.call(this),aM(this),delete this.g};var aP=function(a){function b(b,c){var d=a.call(this)||this;return d.m=b,d.j=c,d.h=null,d.i=!1,d.g=null,d}return!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}k(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}(b,a),b.prototype.l=function(a){this.h=arguments,this.g?this.i=!0:aO(this)},b.prototype.M=function(){a.prototype.M.call(this),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},b}(y);function aQ(a){y.call(this),this.h=a,this.g={}}x(aQ,y);var aR=[];function aS(a,b,c,d){Array.isArray(c)||(c&&(aR[0]=c.toString()),c=aR);for(var e=0;e<c.length;e++){var f=am(b,c[e],d||a.handleEvent,!1,a.h||a);if(!f)break;a.g[f.key]=f}}function aT(a){J(a.g,function(a,b){this.g.hasOwnProperty(b)&&ar(a)},a),a.g={}}function aU(){this.g=!0}function aV(a,b,c,d){a.info(function(){return"XMLHTTP TEXT ("+b+"): "+aW(a,c)+(d?" "+d:"")})}function aW(a,b){if(!a.g)return b;if(!b)return null;try{var c=JSON.parse(b);if(c){for(a=0;a<c.length;a++)if(Array.isArray(c[a])){var d=c[a];if(!(2>d.length)){var e=d[1];if(Array.isArray(e)&&!(1>e.length)){var f=e[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var g=1;g<e.length;g++)e[g]=""}}}}return aA(c)}catch(h){return b}}aQ.prototype.M=function(){aQ.Z.M.call(this),aT(this)},aQ.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},aU.prototype.Aa=function(){this.g=!1},aU.prototype.info=function(){};var aX={},aY=null;function aZ(){return aY=aY||new ax}function a$(a){aa.call(this,aX.Ma,a)}function a_(a){var b=aZ();ay(b,new a$(b,a))}function a0(a,b){aa.call(this,aX.STAT_EVENT,a),this.stat=b}function a1(a){var b=aZ();ay(b,new a0(b,a))}function a2(a,b){aa.call(this,aX.Na,a),this.size=b}function a3(a,b){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){a()},b)}aX.Ma="serverreachability",x(a$,aa),aX.STAT_EVENT="statevent",x(a0,aa),aX.Na="timingevent",x(a2,aa);var a4={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},a5={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function a6(){}function a7(a){return a.h||(a.h=a.i())}function a8(){}a6.prototype.h=null;var a9={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ba(){aa.call(this,"d")}function bb(){aa.call(this,"c")}function bc(){}function bd(a,b,c,d){this.l=a,this.j=b,this.m=c,this.X=d||1,this.V=new aQ(this),this.P=bf,a=R?125:void 0,this.W=new aL(a),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}x(ba,aa),x(bb,aa),x(bc,a6),bc.prototype.g=function(){return new XMLHttpRequest},bc.prototype.i=function(){return{}},j=new bc;var bf=45e3,bg={},bh={};function bi(a,b,c){a.K=1,a.v=bF(bz(b)),a.s=c,a.U=!0,bj(a,null)}function bj(a,b){a.F=Date.now(),bn(a),a.A=bz(a.v);var c=a.A,d=a.X;Array.isArray(d)||(d=[String(d)]),bS(c.h,"t",d),a.C=0,c=a.l.H,a.h=new be,a.g=cK(a.l,c?b:null,!a.s),0<a.O&&(a.L=new aP(v(a.Ia,a,a.g),a.O)),aS(a.V,a.g,"readystatechange",a.gb),b=a.H?K(a.H):{},a.s?(a.u||(a.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,b)):(a.u="GET",a.g.ea(a.A,a.u,null,b)),a_(1),function(a,b,c,d,e,f){a.info(function(){if(a.g){if(f)for(var g="",h=f.split("&"),i=0;i<h.length;i++){var j=h[i].split("=");if(1<j.length){var k=j[0];j=j[1];var l=k.split("_");g=2<=l.length&&"type"==l[1]?g+(k+"=")+j+"&":g+(k+"=redacted&")}}else g=null}else g=f;return"XMLHTTP REQ ("+d+") [attempt "+e+"]: "+b+"\n"+c+"\n"+g})}(a.j,a.u,a.A,a.m,a.X,a.s)}function bk(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function bl(a,b,c){for(var d,e=!0;!a.I&&a.C<c.length;)if((d=bm(a,c))==bh){4==b&&(a.o=4,a1(14),e=!1),aV(a.j,a.m,null,"[Incomplete Response]");break}else if(d==bg){a.o=4,a1(15),aV(a.j,a.m,c,"[Invalid Chunk]"),e=!1;break}else aV(a.j,a.m,d,null),bs(a,d);bk(a)&&d!=bh&&d!=bg&&(a.h.g="",a.C=0),4!=b||0!=c.length||a.h.h||(a.o=1,a1(16),e=!1),a.i=a.i&&e,e?0<c.length&&!a.aa&&(a.aa=!0,(b=a.l).g==a&&b.$&&!b.L&&(b.h.info("Great, no buffering proxy detected. Bytes received: "+c.length),cC(b),b.L=!0,a1(11))):(aV(a.j,a.m,c,"[Invalid Chunked Response]"),br(a),bq(a))}function bm(a,b){var c=a.C,d=b.indexOf("\n",c);return -1==d?bh:isNaN(c=Number(b.substring(c,d)))?bg:(d+=1)+c>b.length?bh:(b=b.substr(d,c),a.C=d+c,b)}function bn(a){a.Y=Date.now()+a.P,bo(a,a.P)}function bo(a,b){if(null!=a.B)throw Error("WatchDog timer not null");a.B=a3(v(a.eb,a),b)}function bp(a){a.B&&(p.clearTimeout(a.B),a.B=null)}function bq(a){0==a.l.G||a.I||cF(a.l,a)}function br(a){bp(a);var b=a.L;b&&"function"==typeof b.na&&b.na(),a.L=null,aM(a.W),aT(a.V),a.g&&(b=a.g,a.g=null,b.abort(),b.na())}function bs(a,b){try{var c=a.l;if(0!=c.G&&(c.g==a||b$(c.i,a))){if(c.I=a.N,!a.J&&b$(c.i,a)&&3==c.G){try{var d=c.Ca.g.parse(b)}catch(e){d=null}if(Array.isArray(d)&&3==d.length){var f=d;if(0==f[0]){a:if(!c.u){if(c.g){if(c.g.F+3e3<a.F)cE(c),ct(c);else break a}cB(c),a1(18)}}else c.ta=f[1],0<c.ta-c.U&&37500>f[2]&&c.N&&0==c.A&&!c.v&&(c.v=a3(v(c.ab,c),6e3));if(1>=bZ(c.i)&&c.ka){try{c.ka()}catch(g){}c.ka=void 0}}else cH(c,11)}else if((a.J||c.g==a)&&cE(c),!D(b))for(f=c.Ca.g.parse(b),b=0;b<f.length;b++){var h=f[b];if(c.U=h[0],h=h[1],2==c.G){if("c"==h[0]){c.J=h[1],c.la=h[2];var i=h[3];null!=i&&(c.ma=i,c.h.info("VER="+c.ma));var j=h[4];null!=j&&(c.za=j,c.h.info("SVER="+c.za));var k=h[5];null!=k&&"number"==typeof k&&0<k&&(d=1.5*k,c.K=d,c.h.info("backChannelRequestTimeoutMs_="+d)),d=c;var l=a.g;if(l){var m=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var n=d.i;!n.g&&(F(m,"spdy")||F(m,"quic")||F(m,"h2"))&&(n.j=n.l,n.g=new Set,n.h&&(b_(n,n.h),n.h=null))}if(d.D){var o=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;o&&(d.sa=o,bE(d.F,d.D,o))}}c.G=3,c.j&&c.j.xa(),c.$&&(c.O=Date.now()-a.F,c.h.info("Handshake RTT: "+c.O+"ms")),d=c;var p=a;if(d.oa=cJ(d,d.H?d.la:null,d.W),p.J){b0(d.i,p);var q=p,r=d.K;r&&q.setTimeout(r),q.B&&(bp(q),bn(q)),d.g=p}else cA(d);0<c.l.length&&cw(c)}else"stop"!=h[0]&&"close"!=h[0]||cH(c,7)}else 3==c.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?cH(c,7):cs(c):"noop"!=h[0]&&c.j&&c.j.wa(h),c.A=0)}}a_(4)}catch(s){}}function bt(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(r(a)||"string"==typeof a)A(a,b,void 0);else{if(a.T&&"function"==typeof a.T)var c=a.T();else if(a.R&&"function"==typeof a.R)c=void 0;else if(r(a)||"string"==typeof a){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else for(e in c=[],d=0,a)c[d++]=e;e=(d=function(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(r(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}for(d in b=[],c=0,a)b[c++]=a[d];return b}(a)).length;for(var f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}}function bu(a,b){this.h={},this.g=[],this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){if(a instanceof bu)for(c=a.T(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])}}function bv(a){if(a.i!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];bw(a.h,d)&&(a.g[c++]=d),b++}a.g.length=c}if(a.i!=a.g.length){var e={};for(c=b=0;b<a.g.length;)bw(e,d=a.g[b])||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}function bw(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(m=bd.prototype).setTimeout=function(a){this.P=a},m.gb=function(a){a=a.target;var b=this.L;b&&3==cn(a)?b.l():this.Ia(a)},m.Ia=function(a){try{if(a==this.g)a:{var b=cn(this.g),c=this.g.Da(),d=this.g.ba();if(!(3>b)&&(3!=b||R||this.g&&(this.h.h||this.g.ga()||co(this.g)))){this.I||4!=b||7==c||(8==c||0>=d?a_(3):a_(2)),bp(this);var e=this.g.ba();this.N=e;b:if(bk(this)){var f=co(this.g);a="";var g=f.length,h=4==cn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){br(this),bq(this);var i="";break b}this.h.i=new p.TextDecoder}for(c=0;c<g;c++)this.h.h=!0,a+=this.h.i.decode(f[c],{stream:h&&c==g-1});f.splice(0,g),this.h.g+=a,this.C=0,i=this.h.g}else i=this.g.ga();if(this.i=200==e,function(a,b,c,d,e,f,g){a.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+e+"]: "+b+"\n"+c+"\n"+f+" "+g})}(this.j,this.u,this.A,this.m,this.X,b,e),this.i){if(this.$&&!this.J){b:{if(this.g){var j,k=this.g;if((j=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(j)){var l=j;break b}}l=null}if(e=l)aV(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bs(this,e);else{this.i=!1,this.o=3,a1(12),br(this),bq(this);break a}}this.U?(bl(this,b,i),R&&this.i&&3==b&&(aS(this.V,this.W,"tick",this.fb),this.W.start())):(aV(this.j,this.m,i,null),bs(this,i)),4==b&&br(this),this.i&&!this.I&&(4==b?cF(this.l,this):(this.i=!1,bn(this)))}else 400==e&&0<i.indexOf("Unknown SID")?(this.o=3,a1(12)):(this.o=0,a1(13)),br(this),bq(this)}}}catch(m){}finally{}},m.fb=function(){if(this.g){var a=cn(this.g),b=this.g.ga();this.C<b.length&&(bp(this),bl(this,a,b),this.i&&4!=a&&bn(this))}},m.cancel=function(){this.I=!0,br(this)},m.eb=function(){this.B=null;var a=Date.now();0<=a-this.Y?(function(a,b){a.info(function(){return"TIMEOUT: "+b})}(this.j,this.A),2!=this.K&&(a_(3),a1(17)),br(this),this.o=2,bq(this)):bo(this,this.Y-a)},(m=bu.prototype).R=function(){bv(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.h[this.g[b]]);return a},m.T=function(){return bv(this),this.g.concat()},m.get=function(a,b){return bw(this.h,a)?this.h[a]:b},m.set=function(a,b){bw(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=b},m.forEach=function(a,b){for(var c=this.T(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};var bx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function by(a,b){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof by){this.g=void 0!==b?b:a.g,bA(this,a.j),this.s=a.s,bB(this,a.i),bC(this,a.m),this.l=a.l,b=a.h;var c=new bO;c.i=b.i,b.g&&(c.g=new bu(b.g),c.h=b.h),bD(this,c),this.o=a.o}else a&&(c=String(a).match(bx))?(this.g=!!b,bA(this,c[1]||"",!0),this.s=bG(c[2]||""),bB(this,c[3]||"",!0),bC(this,c[4]),this.l=bG(c[5]||"",!0),bD(this,c[6]||"",!0),this.o=bG(c[7]||"")):(this.g=!!b,this.h=new bO(null,this.g))}function bz(a){return new by(a)}function bA(a,b,c){a.j=c?bG(b,!0):b,a.j&&(a.j=a.j.replace(/:$/,""))}function bB(a,b,c){a.i=c?bG(b,!0):b}function bC(a,b){if(b){if(isNaN(b=Number(b))||0>b)throw Error("Bad port number "+b);a.m=b}else a.m=null}function bD(a,b,c){b instanceof bO?(a.h=b,bU(a.h,a.g)):(c||(b=bH(b,bM)),a.h=new bO(b,a.g))}function bE(a,b,c){a.h.set(b,c)}function bF(a){return bE(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bG(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function bH(a,b,c){return"string"==typeof a?(a=encodeURI(a).replace(b,bI),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function bI(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}by.prototype.toString=function(){var a=[],b=this.j;b&&a.push(bH(b,bJ,!0),":");var c=this.i;return(c||"file"==b)&&(a.push("//"),(b=this.s)&&a.push(bH(b,bJ,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&a.push(":",String(c))),(c=this.l)&&(this.i&&"/"!=c.charAt(0)&&a.push("/"),a.push(bH(c,"/"==c.charAt(0)?bL:bK,!0))),(c=this.h.toString())&&a.push("?",c),(c=this.o)&&a.push("#",bH(c,bN)),a.join("")};var bJ=/[#\/\?@]/g,bK=/[#\?:]/g,bL=/[#\?]/g,bM=/[#\?@]/g,bN=/#/g;function bO(a,b){this.h=this.g=null,this.i=a||null,this.j=!!b}function bP(a){a.g||(a.g=new bu,a.h=0,a.i&&function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}function bQ(a,b){bP(a),b=bT(a,b),bw(a.g.h,b)&&(a.i=null,a.h-=a.g.get(b).length,bw((a=a.g).h,b)&&(delete a.h[b],a.i--,a.g.length>2*a.i&&bv(a)))}function bR(a,b){return bP(a),b=bT(a,b),bw(a.g.h,b)}function bS(a,b,c){bQ(a,b),0<c.length&&(a.i=null,a.g.set(bT(a,b),C(c)),a.h+=c.length)}function bT(a,b){return b=String(b),a.j&&(b=b.toLowerCase()),b}function bU(a,b){b&&!a.j&&(bP(a),a.i=null,a.g.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(bQ(this,b),bS(this,c,a))},a)),a.j=b}(m=bO.prototype).add=function(a,b){bP(this),this.i=null,a=bT(this,a);var c=this.g.get(a);return c||this.g.set(a,c=[]),c.push(b),this.h+=1,this},m.forEach=function(a,b){bP(this),this.g.forEach(function(c,d){A(c,function(c){a.call(b,c,d,this)},this)},this)},m.T=function(){bP(this);for(var a=this.g.R(),b=this.g.T(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c},m.R=function(a){bP(this);var b=[];if("string"==typeof a)bR(this,a)&&(b=B(b,this.g.get(bT(this,a))));else{a=this.g.R();for(var c=0;c<a.length;c++)b=B(b,a[c])}return b},m.set=function(a,b){return bP(this),this.i=null,a=bT(this,a),bR(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[b]),this.h+=1,this},m.get=function(a,b){return a&&0<(a=this.R(a)).length?String(a[0]):b},m.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],b=this.g.T(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.R(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f]))),a.push(g)}}return this.i=a.join("&")};var bV=function(a,b){this.h=a,this.g=b};function bW(a){this.l=a||bX,a=p.PerformanceNavigationTiming?0<(a=p.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(p.g&&p.g.Ea&&p.g.Ea()&&p.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bX=10;function bY(a){return!!a.h|| !!a.g&&a.g.size>=a.j}function bZ(a){return a.h?1:a.g?a.g.size:0}function b$(a,b){return a.h?a.h==b:!!a.g&&a.g.has(b)}function b_(a,b){a.g?a.g.add(b):a.h=b}function b0(a,b){a.h&&a.h==b?a.h=null:a.g&&a.g.has(b)&&a.g.delete(b)}function b1(a){var b,c;if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){var d=a.i;try{for(var e=l(a.g.values()),f=e.next();!f.done;f=e.next()){var g=f.value;d=d.concat(g.D)}}catch(h){b={error:h}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d}return C(a.i)}function b2(){}function b3(){this.g=new b2}function b4(a,b,c){var d=c||"";try{bt(a,function(a,c){var e=a;s(a)&&(e=aA(a)),b.push(d+c+"="+encodeURIComponent(e))})}catch(e){throw b.push(d+"type="+encodeURIComponent("_badmap")),e}}function b5(a,b,c,d,e){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,e(d)}catch(f){}}function b6(a){this.l=a.$b||null,this.j=a.ib||!1}function b7(a,b){ax.call(this),this.D=a,this.u=b,this.m=void 0,this.readyState=b8,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bW.prototype.cancel=function(){var a,b;if(this.i=b1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var c=l(this.g.values()),d=c.next();!d.done;d=c.next())d.value.cancel()}catch(e){a={error:e}}finally{try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(a)throw a.error}}this.g.clear()}},b2.prototype.stringify=function(a){return p.JSON.stringify(a,void 0)},b2.prototype.parse=function(a){return p.JSON.parse(a,void 0)},x(b6,a6),b6.prototype.g=function(){return new b7(this.l,this.j)},b6.prototype.i=(e={},function(){return e}),x(b7,ax);var b8=0;function b9(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function ca(a){a.readyState=4,a.l=null,a.j=null,a.A=null,cb(a)}function cb(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(m=b7.prototype).open=function(a,b){if(this.readyState!=b8)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=b,this.readyState=1,cb(this)},m.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var b={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(b.body=a),(this.D||p).fetch(new Request(this.B,b)).then(this.Va.bind(this),this.ha.bind(this))},m.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ca(this)),this.readyState=b8},m.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,cb(this)),this.g&&(this.readyState=3,cb(this),this.g))){if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==p.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;b9(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))}},m.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var b=a.value?a.value:new Uint8Array(0);(b=this.A.decode(b,{stream:!a.done}))&&(this.response=this.responseText+=b)}a.done?ca(this):cb(this),3==this.readyState&&b9(this)}},m.Ua=function(a){this.g&&(this.response=this.responseText=a,ca(this))},m.Ta=function(a){this.g&&(this.response=a,ca(this))},m.ha=function(){this.g&&ca(this)},m.setRequestHeader=function(a,b){this.v.append(a,b)},m.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},m.getAllResponseHeaders=function(){if(!this.h)return"";for(var a=[],b=this.h.entries(),c=b.next();!c.done;)a.push((c=c.value)[0]+": "+c[1]),c=b.next();return a.join("\r\n")},Object.defineProperty(b7.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var cc=p.JSON.parse;function cd(a){ax.call(this),this.headers=new bu,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ce,this.K=this.L=!1}x(cd,ax);var ce="",cf=/^https?$/i,cg=["POST","PUT"];function ch(a){return"content-type"==a.toLowerCase()}function ci(a,b){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=b,a.m=5,cj(a),cl(a)}function cj(a){a.D||(a.D=!0,ay(a,"complete"),ay(a,"error"))}function ck(a){if(a.h&& void 0!==o&&(!a.C[1]||4!=cn(a)||2!=a.ba())){if(a.v&&4==cn(a))aN(a.Fa,0,a);else if(ay(a,"readystatechange"),4==cn(a)){a.h=!1;try{var b,c,d=a.ba();a:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break a;default:e=!1}if(!(b=e)){if(c=0===d){var f=String(a.H).match(bx)[1]||null;if(!f&&p.self&&p.self.location){var g=p.self.location.protocol;f=g.substr(0,g.length-1)}c=!cf.test(f?f.toLowerCase():"")}b=c}if(b)ay(a,"complete"),ay(a,"success");else{a.m=6;try{var h=2<cn(a)?a.g.statusText:""}catch(i){h=""}a.j=h+" ["+a.ba()+"]",cj(a)}}finally{cl(a)}}}}function cl(a,b){if(a.g){cm(a);var c=a.g,d=a.C[0]?q:null;a.g=null,a.C=null,b||ay(a,"ready");try{c.onreadystatechange=d}catch(e){}}}function cm(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(p.clearTimeout(a.A),a.A=null)}function cn(a){return a.g?a.g.readyState:0}function co(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case ce:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(b){return null}}function cp(a,b,c){a:{for(f in c){var d,e,f=!1;break a}f=!0}f||(c=(e="",J(d=c,function(a,b){e+=b,e+=":",e+=a,e+="\r\n"}),e),"string"==typeof a?null!=c&&encodeURIComponent(String(c)):bE(a,b,c))}function cq(a,b,c){return c&&c.internalChannelParams&&c.internalChannelParams[a]||b}function cr(a){this.za=0,this.l=[],this.h=new aU,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cq("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cq("baseRetryDelayMs",5e3,a),this.$a=cq("retryDelaySeedMs",1e4,a),this.Ya=cq("forwardChannelMaxRetries",2,a),this.ra=cq("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new bW(a&&a.concurrentRequestLimit),this.Ca=new b3,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a|| !1!==a.Xb}function cs(a){if(cu(a),3==a.G){var b=a.V++,c=bz(a.F);bE(c,"SID",a.J),bE(c,"RID",b),bE(c,"TYPE","terminate"),cy(a,c),(b=new bd(a,a.h,b,void 0)).K=2,b.v=bF(bz(c)),c=!1,p.navigator&&p.navigator.sendBeacon&&(c=p.navigator.sendBeacon(b.v.toString(),"")),!c&&p.Image&&((new Image).src=b.v,c=!0),c||(b.g=cK(b.l,null),b.g.ea(b.v)),b.F=Date.now(),bn(b)}cI(a)}function ct(a){a.g&&(cC(a),a.g.cancel(),a.g=null)}function cu(a){ct(a),a.u&&(p.clearTimeout(a.u),a.u=null),cE(a),a.i.cancel(),a.m&&("number"==typeof a.m&&p.clearTimeout(a.m),a.m=null)}function cv(a,b){a.l.push(new bV(a.Za++,b)),3==a.G&&cw(a)}function cw(a){bY(a.i)||a.m||(a.m=!0,aG(a.Ha,a),a.C=0)}function cx(a,b){c=b?b.m:a.V++;var c,d=bz(a.F);bE(d,"SID",a.J),bE(d,"RID",c),bE(d,"AID",a.U),cy(a,d),a.o&&a.s&&cp(d,a.o,a.s),c=new bd(a,a.h,c,a.C+1),null===a.o&&(c.H=a.s),b&&(a.l=b.D.concat(a.l)),b=cz(a,c,1e3),c.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),b_(a.i,c),bi(c,d,b)}function cy(a,b){a.j&&bt({},function(a,c){bE(b,c,a)})}function cz(a,b,c){c=Math.min(a.l.length,c);var d=a.j?v(a.j.Oa,a.j,a):null;a:for(var e=a.l,f=-1;;){var g=["count="+c];-1==f?0<c?(f=e[0].h,g.push("ofs="+f)):f=0:g.push("ofs="+f);for(var h=!0,i=0;i<c;i++){var j=e[i].h,k=e[i].g;if(0>(j-=f))f=Math.max(0,e[i].h-100),h=!1;else try{b4(k,g,"req"+j+"_")}catch(l){d&&d(k)}}if(h){d=g.join("&");break a}}return a=a.l.splice(0,c),b.D=a,d}function cA(a){a.g||a.u||(a.Y=1,aG(a.Ga,a),a.A=0)}function cB(a){return!a.g&&!a.u&&!(3<=a.A)&&(a.Y++,a.u=a3(v(a.Ga,a),cG(a,a.A)),a.A++,!0)}function cC(a){null!=a.B&&(p.clearTimeout(a.B),a.B=null)}function cD(a){a.g=new bd(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var b=bz(a.oa);bE(b,"RID","rpc"),bE(b,"SID",a.J),bE(b,"CI",a.N?"0":"1"),bE(b,"AID",a.U),cy(a,b),bE(b,"TYPE","xmlhttp"),a.o&&a.s&&cp(b,a.o,a.s),a.K&&a.g.setTimeout(a.K);var c=a.g;a=a.la,c.K=1,c.v=bF(bz(b)),c.s=null,c.U=!0,bj(c,a)}function cE(a){null!=a.v&&(p.clearTimeout(a.v),a.v=null)}function cF(a,b){var c=null;if(a.g==b){cE(a),cC(a),a.g=null;var d=2}else{if(!b$(a.i,b))return;c=b.D,b0(a.i,b),d=1}if(a.I=b.N,0!=a.G){if(b.i){if(1==d){c=b.s?b.s.length:0,b=Date.now()-b.F;var e,f,g=a.C;d=aZ(),ay(d,new a2(d,c,b,g)),cw(a)}else cA(a)}else if(3==(g=b.o)||0==g&&0<a.I||!(1==d&&(e=a,f=b,!(bZ(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=f.D.concat(e.l),!0):1!=e.G&&2!=e.G&&!(e.C>=(e.Xa?0:e.Ya))&&(e.m=a3(v(e.Ha,e,f),cG(e,e.C)),e.C++,!0)))||2==d&&cB(a)))switch(c&&0<c.length&&((b=a.i).i=b.i.concat(c)),g){case 1:cH(a,5);break;case 4:cH(a,10);break;case 3:cH(a,6);break;default:cH(a,2)}}}function cG(a,b){var c=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(c*=2),c*b}function cH(a,b){if(a.h.info("Error code "+b),2==b){var c=null;a.j&&(c=null);var d=v(a.jb,a);c||(c=new by("//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||bA(c,"https"),bF(c)),function(a,b){var c=new aU;if(p.Image){var d=new Image;d.onload=w(b5,c,d,"TestLoadImage: loaded",!0,b),d.onerror=w(b5,c,d,"TestLoadImage: error",!1,b),d.onabort=w(b5,c,d,"TestLoadImage: abort",!1,b),d.ontimeout=w(b5,c,d,"TestLoadImage: timeout",!1,b),p.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=a}else b(!1)}(c.toString(),d)}else a1(2);a.G=0,a.j&&a.j.va(b),cI(a),cu(a)}function cI(a){a.G=0,a.I=-1,a.j&&((0!=b1(a.i).length||0!=a.l.length)&&(a.i.i.length=0,C(a.l),a.l.length=0),a.j.ua())}function cJ(a,b,c){var d,e=(d=c)instanceof by?bz(d):new by(d,void 0);if(""!=e.i)b&&bB(e,b+"."+e.i),bC(e,e.m);else{var f,g,h,i,j,k=p.location;e=(f=k.protocol,g=b?b+"."+k.hostname:k.hostname,h=+k.port,i=c,j=new by(null,void 0),f&&bA(j,f),g&&bB(j,g),h&&bC(j,h),i&&(j.l=i),j)}return a.aa&&J(a.aa,function(a,b){bE(e,b,a)}),b=a.D,c=a.sa,b&&c&&bE(e,b,c),bE(e,"VER",a.ma),cy(a,e),e}function cK(a,b,c){if(b&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(b=new cd(c&&a.Ba&&!a.qa?new b6({ib:!0}):a.qa)).L=a.H,b}function cL(){}function cM(){if(P&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function cN(a,b){ax.call(this),this.g=new cr(b),this.l=a,this.h=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.ya&&(a?a["X-WebChannel-Client-Profile"]=b.ya:a={"X-WebChannel-Client-Profile":b.ya}),this.g.P=a,(a=b&&b.httpHeadersOverwriteParam)&&!D(a)&&(this.g.o=a),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!D(b)&&(this.g.D=b,null!==(a=this.h)&&b in a&&b in(a=this.h)&&delete a[b]),this.j=new cQ(this)}function cO(a){ba.call(this);var b=a.__sm__;if(b){a:{for(var c in b){a=c;break a}a=void 0}(this.i=a)&&(a=this.i,b=null!==b&&a in b?b[a]:void 0),this.data=b}else this.data=a}function cP(){bb.call(this),this.status=1}function cQ(a){this.g=a}(m=cd.prototype).ea=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);b=b?b.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():j.g(),this.C=this.u?a7(this.u):a7(j),this.g.onreadystatechange=v(this.Fa,this);try{this.F=!0,this.g.open(b,String(a),!0),this.F=!1}catch(e){ci(this,e);return}a=c||"";var f,h=new bu(this.headers);d&&bt(d,function(a,b){h.set(b,a)}),d=function(a){a:{for(var b=ch,c=a.length,d="string"==typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(h.T()),c=p.FormData&&a instanceof p.FormData,!(0<=z(cg,b))||d||c||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(a,b){this.g.setRequestHeader(b,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cm(this),0<this.B&&((this.K=(f=this.g,P&&function(a){var b=Z;return Object.prototype.hasOwnProperty.call(b,9)?b[9]:b[9]=a(9)}(function(){for(var a=0,b=E(String(g)).split("."),c=E("9").split("."),d=Math.max(b.length,c.length),e=0;0==a&&e<d;e++){var f=b[e]||"",h=c[e]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==f[0].length&&0==h[0].length)break;a=G(0==f[1].length?0:parseInt(f[1],10),0==h[1].length?0:parseInt(h[1],10))||G(0==f[2].length,0==h[2].length)||G(f[2],h[2]),f=f[3],h=h[3]}while(0==a)}return 0<=a})&&"number"==typeof f.timeout&& void 0!==f.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=v(this.pa,this)):this.A=aN(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(i){ci(this,i)}},m.pa=function(){void 0!==o&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ay(this,"timeout"),this.abort(8))},m.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,ay(this,"complete"),ay(this,"abort"),cl(this))},m.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cl(this,!0)),cd.Z.M.call(this)},m.Fa=function(){this.s||(this.F||this.v||this.l?ck(this):this.cb())},m.cb=function(){ck(this)},m.ba=function(){try{return 2<cn(this)?this.g.status:-1}catch(a){return -1}},m.ga=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},m.Qa=function(a){if(this.g){var b=this.g.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),cc(b)}},m.Da=function(){return this.m},m.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(m=cr.prototype).ma=8,m.G=1,m.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch(b){}},m.Ha=function(a){if(this.m){if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;var b=new bd(this,this.h,a,void 0),c=this.s;if(this.P&&(c?M(c=K(c),this.P):c=this.P),null===this.o&&(b.H=c),this.ja)a:{for(var d=0,e=0;e<this.l.length;e++){b:{var f=this.l[e];if("__data__"in f.g&&"string"==typeof(f=f.g.__data__)){f=f.length;break b}f=void 0}if(void 0===f)break;if(4096<(d+=f)){d=e;break a}if(4096===d||e===this.l.length-1){d=e+1;break a}}d=1e3}else d=1e3;d=cz(this,b,d),e=bz(this.F),bE(e,"RID",a),bE(e,"CVER",22),this.D&&bE(e,"X-HTTP-Session-Id",this.D),cy(this,e),this.o&&c&&cp(e,this.o,c),b_(this.i,b),this.Ra&&bE(e,"TYPE","init"),this.ja?(bE(e,"$req",d),bE(e,"SID","null"),b.$=!0,bi(b,e,null)):bi(b,e,d),this.G=2}}else 3==this.G&&(a?cx(this,a):0==this.l.length||bY(this.i)||cx(this))}},m.Ga=function(){if(this.u=null,cD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=a3(v(this.bb,this),a)}},m.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,a1(10),ct(this),cD(this))},m.ab=function(){null!=this.v&&(this.v=null,ct(this),cB(this),a1(19))},m.jb=function(a){a?(this.h.info("Successfully pinged google.com"),a1(2)):(this.h.info("Failed to ping google.com"),a1(1))},(m=cL.prototype).xa=function(){},m.wa=function(){},m.va=function(){},m.ua=function(){},m.Oa=function(){},cM.prototype.g=function(a,b){return new cN(a,b)},x(cN,ax),cN.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,b=this.l,c=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),aG(v(a.hb,a,b))),a1(0),a.W=b,a.aa=c||{},a.N=a.X,a.F=cJ(a,null,a.W),cw(a)},cN.prototype.close=function(){cs(this.g)},cN.prototype.u=function(a){if("string"==typeof a){var b={};b.__data__=a,cv(this.g,b)}else this.v?((b={}).__data__=aA(a),cv(this.g,b)):cv(this.g,a)},cN.prototype.M=function(){this.g.j=null,delete this.j,cs(this.g),delete this.g,cN.Z.M.call(this)},x(cO,ba),x(cP,bb),x(cQ,cL),cQ.prototype.xa=function(){ay(this.g,"a")},cQ.prototype.wa=function(a){ay(this.g,new cO(a))},cQ.prototype.va=function(a){ay(this.g,new cP(a))},cQ.prototype.ua=function(){ay(this.g,"b")},cM.prototype.createWebChannel=cM.prototype.g,cN.prototype.send=cN.prototype.u,cN.prototype.open=cN.prototype.m,cN.prototype.close=cN.prototype.close,a4.NO_ERROR=0,a4.TIMEOUT=8,a4.HTTP_ERROR=6,a5.COMPLETE="complete",a8.EventType=a9,a9.OPEN="a",a9.CLOSE="b",a9.ERROR="c",a9.MESSAGE="d",ax.prototype.listen=ax.prototype.N,cd.prototype.listenOnce=cd.prototype.O,cd.prototype.getLastError=cd.prototype.La,cd.prototype.getLastErrorCode=cd.prototype.Da,cd.prototype.getStatus=cd.prototype.ba,cd.prototype.getResponseJson=cd.prototype.Qa,cd.prototype.getResponseText=cd.prototype.ga,cd.prototype.send=cd.prototype.ea;var cR=function(){return new cM},cS=function(){return aZ()},cT=a4,cU=a5,cV=aX,cW={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},cX=b6,cY=a8,cZ=cd},5143:function(a,b,c){"use strict";c.d(b,{Z:function(){return v.default}});var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=c(6099);c(8481),c(9446),c(8483);var w=c(5137),x=c(4589),y=c(4594);c(3705),(aD=w.U).prototype.loadBundle=w.c,aD.prototype.namedQuery=w.u;var z=c(655),A=c(909),B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(a){function b(c,d,e){var f=a.call(this,d)||this;return Object.setPrototypeOf(f,b.prototype),f.code=c,f.details=e,f}return(0,z.__extends)(b,a),b}(Error),D=function(){function a(a,b){var c=this;this.auth=null,this.messaging=null,this.auth=a.getImmediate({optional:!0}),this.messaging=b.getImmediate({optional:!0}),this.auth||a.get().then(function(a){return c.auth=a},function(){}),this.messaging||b.get().then(function(a){return c.messaging=a},function(){})}return a.prototype.getAuthToken=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a;return(0,z.__generator)(this,function(b){switch(b.label){case 0:if(!this.auth)return[2,void 0];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:if(!(a=b.sent()))return[2,void 0];return[2,a.accessToken];case 3:return b.sent(),[2,void 0];case 4:return[2]}})})},a.prototype.getInstanceIdToken=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){return(0,z.__generator)(this,function(a){switch(a.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,a.sent()];case 3:return a.sent(),[2,void 0];case 4:return[2]}})})},a.prototype.getContext=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a,b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:return[4,this.getAuthToken()];case 1:return a=c.sent(),[4,this.getInstanceIdToken()];case 2:return[2,{authToken:a,instanceIdToken:b=c.sent()}]}})})},a}();function E(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return c}var F=function(){function a(){}return a.prototype.encode=function(a){var b=this;if(null==a)return null;if(a instanceof Number&&(a=a.valueOf()),"number"==typeof a&&isFinite(a)|| !0===a|| !1===a||"[object String]"===Object.prototype.toString.call(a))return a;if(a instanceof Date)return a.toISOString();if(Array.isArray(a))return a.map(function(a){return b.encode(a)});if("function"==typeof a||"object"==typeof a)return E(a,function(a){return b.encode(a)});throw Error("Data cannot be encoded in JSON: "+a)},a.prototype.decode=function(a){var b=this;if(null==a)return a;if(a["@type"])switch(a["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var c=Number(a.value);if(isNaN(c))throw Error("Data cannot be decoded from JSON: "+a);return c;default:throw Error("Data cannot be decoded from JSON: "+a)}return Array.isArray(a)?a.map(function(a){return b.decode(a)}):"function"==typeof a||"object"==typeof a?E(a,function(a){return b.decode(a)}):a},a}(),G=function(){function a(a,b,c,d,e,f){var g=this;void 0===e&&(e="us-central1"),this.app_=a,this.appCheckProvider=d,this.fetchImpl=f,this.serializer=new F,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(g.deleteService())}},this.contextProvider=new D(b,c),this.cancelAllRequests=new Promise(function(a){g.deleteService=function(){return a()}});try{var h=new URL(e);this.customDomain=h.origin,this.region="us-central1"}catch(i){this.customDomain=null,this.region=e}}return Object.defineProperty(a.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),a.prototype._url=function(a){var b=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+b+"/"+this.region+"/"+a:null!==this.customDomain?this.customDomain+"/"+a:"https://"+this.region+"-"+b+".cloudfunctions.net/"+a},a.prototype.useEmulator=function(a,b){this.emulatorOrigin="http://"+a+":"+b},a.prototype.useFunctionsEmulator=function(a){this.emulatorOrigin=a},a.prototype.httpsCallable=function(a,b){var c=this;return function(d){return c.call(a,d,b||{})}},a.prototype.postJSON=function(a,b,c){return(0,z.__awaiter)(this,void 0,void 0,function(){var d,e,f;return(0,z.__generator)(this,function(g){switch(g.label){case 0:return c["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(d=g.sent())&&(c["X-Firebase-AppCheck"]=d),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.fetchImpl(a,{method:"POST",body:JSON.stringify(b),headers:c})];case 3:return e=g.sent(),[3,5];case 4:return g.sent(),[2,{status:0,json:null}];case 5:f=null,g.label=6;case 6:return g.trys.push([6,8,,9]),[4,e.json()];case 7:return f=g.sent(),[3,9];case 8:return g.sent(),[3,9];case 9:return[2,{status:e.status,json:f}]}})})},a.prototype.getAppCheckToken=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a,b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:if(!(a=this.appCheckProvider.getImmediate({optional:!0})))return[3,2];return[4,a.getToken()];case 1:return[2,(b=c.sent()).token];case 2:return[2,null]}})})},a.prototype.call=function(a,b,c){return(0,z.__awaiter)(this,void 0,void 0,function(){var d,e,f,g,h,i,j,k,l,m,n,o;return(0,z.__generator)(this,function(p){switch(p.label){case 0:return d=this._url(a),e={data:b=this.serializer.encode(b)},f={},[4,this.contextProvider.getContext()];case 1:var q,r,s;return(g=p.sent()).authToken&&(f.Authorization="Bearer "+g.authToken),g.instanceIdToken&&(f["Firebase-Instance-ID-Token"]=g.instanceIdToken),j=(i=(q=h=c.timeout||7e4,s=new Promise(function(a,b){r=setTimeout(function(){b(new C("deadline-exceeded","deadline-exceeded"))},q)}),{timer:r,promise:s})).timer,k=i.promise,[4,Promise.race([H(j,this.postJSON(d,e,f)),k,H(j,this.cancelAllRequests)])];case 2:if(!(l=p.sent()))throw new C("cancelled","Firebase Functions instance was deleted.");if(m=function(a,b,c){var d=function(a){if(a>=200&&a<300)return"ok";switch(a){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(a),e=d,f=void 0;try{var g=b&&b.error;if(g){var h=g.status;if("string"==typeof h){if(!B[h])return new C("internal","internal");d=B[h],e=h}var i=g.message;"string"==typeof i&&(e=i),void 0!==(f=g.details)&&(f=c.decode(f))}}catch(j){}return"ok"===d?null:new C(d,e,f)}(l.status,l.json,this.serializer))throw m;if(!l.json)throw new C("internal","Response is not valid JSON object.");if(void 0===(n=l.json.data)&&(n=l.json.result),void 0===n)throw new C("internal","Response is missing data field.");return[2,{data:o=this.serializer.decode(n)}]}})})},a}();function H(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,b];case 1:return c=d.sent(),clearTimeout(a),[2,c]}})})}!/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a,b){a.INTERNAL.registerComponent(new A.Component("functions",function(a,c){var d=c.instanceIdentifier,e=a.getProvider("app").getImmediate(),f=a.getProvider("auth-internal"),g=a.getProvider("app-check-internal"),h=a.getProvider("messaging");return new G(e,f,h,g,d,b)},"PUBLIC").setServiceProps({Functions:G}).setMultipleInstances(!0))}(v.default,fetch.bind(self)),v.default.registerVersion("@firebase/functions","0.6.13");var I=c(8676),J="0.4.30",K="w:"+J,L="FIS_v2",M=((d={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',d["not-registered"]="Firebase Installation is not registered.",d["installation-not-found"]="Firebase Installation not found.",d["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',d["app-offline"]="Could not process request. Application offline.",d["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",d),N=new x.ErrorFactory("installations","Installations",M);function O(a){return a instanceof x.FirebaseError&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function P(a){return"https://firebaseinstallations.googleapis.com/v1/projects/"+a.projectId+"/installations"}function Q(a){return{token:a.token,requestStatus:2,expiresIn:V(a.expiresIn),creationTime:Date.now()}}function R(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,b.json()];case 1:return d=(c=e.sent()).error,[2,N.create("request-failed",{requestName:a,serverCode:d.code,serverMessage:d.message,serverStatus:d.status})]}})})}function S(a){var b=a.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function T(a,b){var c=b.refreshToken,d=S(a);return d.append("Authorization",W(c)),d}function U(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:return[4,a()];case 1:if((b=c.sent()).status>=500&&b.status<600)return[2,a()];return[2,b]}})})}function V(a){return Number(a.replace("s","000"))}function W(a){return L+" "+a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /** Returns a promise that resolves after given time passes. */ function X(a){return new Promise(function(b){setTimeout(b,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var Y=/^[cdef][\w-]{21}$/;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /** Returns a string key that can be used to identify the app. */ function Z(a){return a.appName+"!"+a.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var $=new Map;function _(a,b){var c=Z(a);aa(c,b),ab(c,b)}function aa(a,b){var c,d,e=$.get(a);if(e)try{for(var f=(0,z.__values)(e),g=f.next();!g.done;g=f.next())(0,g.value)(b)}catch(h){c={error:h}}finally{try{g&&!g.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}}function ab(a,b){var c=ad();c&&c.postMessage({key:a,fid:b}),ae()}var ac=null;function ad(){return!ac&&"BroadcastChannel"in self&&((ac=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(a){aa(a.data.key,a.data.fid)}),ac}function ae(){0===$.size&&ac&&(ac.close(),ac=null)}var af="firebase-installations-store",ag=null;function ah(){return ag||(ag=(0,I.openDb)("firebase-installations-database",1,function(a){0===a.oldVersion&&a.createObjectStore(af)})),ag}function ai(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e,f,g;return(0,z.__generator)(this,function(h){switch(h.label){case 0:return c=Z(a),[4,ah()];case 1:return[4,(f=(e=(d=h.sent()).transaction(af,"readwrite")).objectStore(af)).get(c)];case 2:return g=h.sent(),[4,f.put(b,c)];case 3:return h.sent(),[4,e.complete];case 4:return h.sent(),g&&g.fid===b.fid||_(a,b.fid),[2,b]}})})}function aj(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return b=Z(a),[4,ah()];case 1:return[4,(d=(c=e.sent()).transaction(af,"readwrite")).objectStore(af).delete(b)];case 2:return e.sent(),[4,d.complete];case 3:return e.sent(),[2]}})})}function ak(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e,f,g,h;return(0,z.__generator)(this,function(i){switch(i.label){case 0:return c=Z(a),[4,ah()];case 1:return[4,(f=(e=(d=i.sent()).transaction(af,"readwrite")).objectStore(af)).get(c)];case 2:if(void 0!==(h=b(g=i.sent())))return[3,4];return[4,f.delete(c)];case 3:return i.sent(),[3,6];case 4:return[4,f.put(h,c)];case 5:i.sent(),i.label=6;case 6:return[4,e.complete];case 7:return i.sent(),h&&(!g||g.fid!==h.fid)&&_(a,h.fid),[2,h]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Updates and returns the InstallationEntry from the database.
 * Also triggers a registration request if it is necessary and possible.
 */ function al(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,ak(a,function(c){var d=am(c),e=an(a,d);return b=e.registrationPromise,e.installationEntry})];case 1:if(""!==(c=e.sent()).fid)return[3,3];return d={},[4,b];case 2:return[2,(d.installationEntry=e.sent(),d)];case 3:return[2,{installationEntry:c,registrationPromise:b}]}})})}function am(a){var b=a||{fid:function(){try{var a,b,c=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(c),c[0]=112+c[0]%16;var d=(a=c,(b=a,btoa(String.fromCharCode.apply(String,(0,z.__spreadArray)([],(0,z.__read)(b)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22));return Y.test(d)?d:""}catch(e){return""}}(),registrationStatus:0};return ar(b)}function an(a,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(N.create("app-offline"))};var c={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},d=ao(a,c);return{installationEntry:c,registrationPromise:d}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:ap(a)}:{installationEntry:b}}function ao(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,7]),[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a,b){var c=b.fid;return(0,z.__awaiter)(this,void 0,void 0,function(){var b,d,e,f,g,h,i;return(0,z.__generator)(this,function(j){switch(j.label){case 0:return b=P(a),d=S(a),e={fid:c,authVersion:L,appId:a.appId,sdkVersion:K},f={method:"POST",headers:d,body:JSON.stringify(e)},[4,U(function(){return fetch(b,f)})];case 1:if(!(g=j.sent()).ok)return[3,3];return[4,g.json()];case 2:return[2,i={fid:(h=j.sent()).fid||c,registrationStatus:2,refreshToken:h.refreshToken,authToken:Q(h.authToken)}];case 3:return[4,R("Create Installation",g)];case 4:throw j.sent()}})})}(a,b)];case 1:return[2,ai(a,c=e.sent())];case 2:if(!(O(d=e.sent())&&409===d.customData.serverCode))return[3,4];return[4,aj(a)];case 3:return e.sent(),[3,6];case 4:return[4,ai(a,{fid:b.fid,registrationStatus:0})];case 5:e.sent(),e.label=6;case 6:throw d;case 7:return[2]}})})}function ap(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d,e;return(0,z.__generator)(this,function(f){switch(f.label){case 0:return[4,aq(a)];case 1:b=f.sent(),f.label=2;case 2:if(1!==b.registrationStatus)return[3,5];return[4,X(100)];case 3:return f.sent(),[4,aq(a)];case 4:return b=f.sent(),[3,2];case 5:if(0!==b.registrationStatus)return[3,7];return[4,al(a)];case 6:if(d=(c=f.sent()).installationEntry,e=c.registrationPromise)return[2,e];return[2,d];case 7:return[2,b]}})})}function aq(a){return ak(a,function(a){if(!a)throw N.create("installation-not-found");return ar(a)})}function ar(a){return as(a)?{fid:a.fid,registrationStatus:0}:a}function as(a){return 1===a.registrationStatus&&a.registrationTime+1e4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Returns a valid authentication token for the installation. Generates a new
 * token if one doesn't exist, is expired or about to expire.
 *
 * Should only be called if the Firebase Installation is registered.
 */ function at(a,b){return void 0===b&&(b=!1),(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e,f;return(0,z.__generator)(this,function(g){switch(g.label){case 0:return[4,ak(a.appConfig,function(d){if(!ax(d))throw N.create("not-registered");var e=d.authToken;if(!b&&ay(e))return d;if(1===e.requestStatus)return c=au(a,b),d;if(!navigator.onLine)throw N.create("app-offline");var f=aA(d);return c=aw(a,f),f})];case 1:if(d=g.sent(),!c)return[3,3];return[4,c];case 2:return f=g.sent(),[3,4];case 3:f=d.authToken,g.label=4;case 4:return[2,e=f]}})})}function au(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,av(a.appConfig)];case 1:c=e.sent(),e.label=2;case 2:if(1!==c.authToken.requestStatus)return[3,5];return[4,X(100)];case 3:return e.sent(),[4,av(a.appConfig)];case 4:return c=e.sent(),[3,2];case 5:if(0===(d=c.authToken).requestStatus)return[2,at(a,b)];return[2,d]}})})}function av(a){return ak(a,function(a){if(!ax(a))throw N.create("not-registered");return aB(a.authToken)?(0,z.__assign)((0,z.__assign)({},a),{authToken:{requestStatus:0}}):a})}function aw(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e;return(0,z.__generator)(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,8]),[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a,b){var c=a.appConfig,d=a.platformLoggerProvider;return(0,z.__awaiter)(this,void 0,void 0,function(){var a,e,f,g,h,i,j,k;return(0,z.__generator)(this,function(l){switch(l.label){case 0:var m,n,o;return a=(m=c,n=b,o=n.fid,P(m)+"/"+o+"/authTokens:generate"),e=T(c,b),f=d.getImmediate({optional:!0}),f&&e.append("x-firebase-client",f.getPlatformInfoString()),g={installation:{sdkVersion:K}},h={method:"POST",headers:e,body:JSON.stringify(g)},[4,U(function(){return fetch(a,h)})];case 1:if(!(i=l.sent()).ok)return[3,3];return[4,i.json()];case 2:return[2,k=Q(j=l.sent())];case 3:return[4,R("Generate Auth Token",i)];case 4:throw l.sent()}})})}(a,b)];case 1:return c=f.sent(),e=(0,z.__assign)((0,z.__assign)({},b),{authToken:c}),[4,ai(a.appConfig,e)];case 2:return f.sent(),[2,c];case 3:if(!(O(d=f.sent())&&(401===d.customData.serverCode||404===d.customData.serverCode)))return[3,5];return[4,aj(a.appConfig)];case 4:return f.sent(),[3,7];case 5:return e=(0,z.__assign)((0,z.__assign)({},b),{authToken:{requestStatus:0}}),[4,ai(a.appConfig,e)];case 6:f.sent(),f.label=7;case 7:throw d;case 8:return[2]}})})}function ax(a){return void 0!==a&&2===a.registrationStatus}function ay(a){return 2===a.requestStatus&&!az(a)}function az(a){var b=Date.now();return b<a.creationTime||a.creationTime+a.expiresIn<b+36e5}function aA(a){var b={requestStatus:1,requestTime:Date.now()};return(0,z.__assign)((0,z.__assign)({},a),{authToken:b})}function aB(a){return 1===a.requestStatus&&a.requestTime+1e4<Date.now()}function aC(a){return N.create("missing-app-config-values",{valueName:a})}(aE=v.default).INTERNAL.registerComponent(new A.Component("installations",function(a){var b,c=a.getProvider("app").getImmediate(),d={appConfig:/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a){if(!a||!a.options)throw aC("App Configuration");if(!a.name)throw aC("App Name");var b,c,d=["projectId","apiKey","appId"];try{for(var e=(0,z.__values)(d),f=e.next();!f.done;f=e.next()){var g=f.value;if(!a.options[g])throw aC(g)}}catch(h){b={error:h}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}(c),platformLoggerProvider:a.getProvider("platform-logger")};return{app:c,getId:function(){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,al(a.appConfig)];case 1:return c=(b=e.sent()).installationEntry,(d=b.registrationPromise)?d.catch(console.error):at(a).catch(console.error),[2,c.fid]}})})}(d))},getToken:function(a){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a,b){return void 0===b&&(b=!1),(0,z.__awaiter)(this,void 0,void 0,function(){var c;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,function a(b){return(0,z.__awaiter)(this,void 0,void 0,function(){var a;return(0,z.__generator)(this,function(c){switch(c.label){case 0:return[4,al(b)];case 1:if(!(a=c.sent().registrationPromise))return[3,3];return[4,a];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(a.appConfig)];case 1:return d.sent(),[4,at(a,b)];case 2:return[2,(c=d.sent()).token]}})})}(d,a))},delete:function(){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,ak(b=a.appConfig,function(a){if(!a||0!==a.registrationStatus)return a})];case 1:if(!(c=d.sent()))return[3,6];if(1!==c.registrationStatus)return[3,2];throw N.create("delete-pending-registration");case 2:if(2!==c.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw N.create("app-offline");case 3:return[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e,f;return(0,z.__generator)(this,function(g){switch(g.label){case 0:var h,i,j;return c=(h=a,i=b,j=i.fid,P(h)+"/"+j),d=T(a,b),e={method:"DELETE",headers:d},[4,U(function(){return fetch(c,e)})];case 1:if((f=g.sent()).ok)return[3,3];return[4,R("Delete Installation",f)];case 2:throw g.sent();case 3:return[2]}})})}(b,c)];case 4:return d.sent(),[4,aj(b)];case 5:d.sent(),d.label=6;case 6:return[2]}})})}(d))},onIdChange:function(a){var b,c,e,f,g,h,i;return b=d,c=a,f=e=b.appConfig,g=c,ad(),h=Z(f),(i=$.get(h))||(i=new Set,$.set(h,i)),i.add(g),function(){var a,b,d,f;a=e,b=c,d=Z(a),f=$.get(d),!f||(f.delete(b),0===f.size&&$.delete(d),ae())}}}},"PUBLIC")),aE.registerVersion("@firebase/installations",J);var aD,aE,aF,aG=((e={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',e["only-available-in-window"]="This method is available in a Window context.",e["only-available-in-sw"]="This method is available in a service worker context.",e["permission-default"]="The notification permission was not granted and dismissed instead.",e["permission-blocked"]="The notification permission was not granted and blocked instead.",e["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",e["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",e["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",e["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",e["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",e["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",e["token-update-no-token"]="FCM returned no token when updating the user to push.",e["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",e["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",e["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",e["invalid-vapid-key"]="The public VAPID key must be a string.",e["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",e),aH=new x.ErrorFactory("messaging","Messaging",aG),aI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aJ="FCM_MSG",aK="google.c.a.c_id";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function aL(a){var b=new Uint8Array(a);return btoa(String.fromCharCode.apply(String,(0,z.__spreadArray)([],(0,z.__read)(b)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(aF=f||(f={})).PUSH_RECEIVED="push-received",aF.NOTIFICATION_CLICKED="notification-clicked";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var aM="fcm_token_details_db",aN="fcm_token_object_Store",aO="firebase-messaging-store",aP=null;function aQ(){return aP||(aP=(0,I.openDb)("firebase-messaging-database",1,function(a){0===a.oldVersion&&a.createObjectStore(aO)})),aP}function aR(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d,e;return(0,z.__generator)(this,function(f){switch(f.label){case 0:return b=aT(a),[4,aQ()];case 1:return[4,(c=f.sent()).transaction(aO).objectStore(aO).get(b)];case 2:if(!(d=f.sent()))return[3,3];return[2,d];case 3:return[4,function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d,e,f=this;return(0,z.__generator)(this,function(g){switch(g.label){case 0:if(!("databases"in indexedDB))return[3,2];return[4,indexedDB.databases()];case 1:if(!(c=(b=g.sent()).map(function(a){return a.name})).includes(aM))return[2,null];g.label=2;case 2:return d=null,[4,(0,I.openDb)(aM,5,function(b){return(0,z.__awaiter)(f,void 0,void 0,function(){var c,e,f,g;return(0,z.__generator)(this,function(h){switch(h.label){case 0:if(b.oldVersion<2||!b.objectStoreNames.contains(aN))return[2];return[4,(c=b.transaction.objectStore(aN)).index("fcmSenderId").get(a)];case 1:return e=h.sent(),[4,c.clear()];case 2:if(h.sent(),!e)return[2];if(2===b.oldVersion){if(!(f=e).auth||!f.p256dh||!f.endpoint)return[2];d={token:f.fcmToken,createTime:null!==(g=f.createTime)&& void 0!==g?g:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:aL(f.vapidKey)}}}else 3===b.oldVersion?d={token:(f=e).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:aL(f.auth),p256dh:aL(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:aL(f.vapidKey)}}:4===b.oldVersion&&(d={token:(f=e).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:aL(f.auth),p256dh:aL(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:aL(f.vapidKey)}});return[2]}})})})];case 3:return(e=g.sent()).close(),[4,(0,I.deleteDb)(aM)];case 4:return g.sent(),[4,(0,I.deleteDb)("fcm_vapid_details_db")];case 5:return g.sent(),[4,(0,I.deleteDb)("undefined")];case 6:return g.sent(),[2,!function a(b){if(!b||!b.subscriptionOptions)return!1;var c=b.subscriptionOptions;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof c.auth&&c.auth.length>0&&"string"==typeof c.p256dh&&c.p256dh.length>0&&"string"==typeof c.endpoint&&c.endpoint.length>0&&"string"==typeof c.swScope&&c.swScope.length>0&&"string"==typeof c.vapidKey&&c.vapidKey.length>0}(d)?null:d]}})})}(a.appConfig.senderId)];case 4:if(!(e=f.sent()))return[3,6];return[4,aS(a,e)];case 5:return f.sent(),[2,e];case 6:return[2]}})})}function aS(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e;return(0,z.__generator)(this,function(f){switch(f.label){case 0:return c=aT(a),[4,aQ()];case 1:return[4,(e=(d=f.sent()).transaction(aO,"readwrite")).objectStore(aO).put(b,c)];case 2:return f.sent(),[4,e.complete];case 3:return f.sent(),[2,b]}})})}function aT(a){return a.appConfig.appId}function aU(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e,f,g,h;return(0,z.__generator)(this,function(i){switch(i.label){case 0:return[4,aW(a)];case 1:d={method:"DELETE",headers:c=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(aV(a.appConfig)+"/"+b,d)];case 3:return[4,(e=i.sent()).json()];case 4:if((f=i.sent()).error)throw g=f.error.message,aH.create("token-unsubscribe-failed",{errorInfo:g});return[3,6];case 5:throw h=i.sent(),aH.create("token-unsubscribe-failed",{errorInfo:h});case 6:return[2]}})})}function aV(a){return"https://fcmregistrations.googleapis.com/v1/projects/"+a.projectId+"/registrations"}function aW(a){var b=a.appConfig,c=a.installations;return(0,z.__awaiter)(this,void 0,void 0,function(){var a;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,c.getToken()];case 1:return a=d.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":"FIS "+a})]}})})}function aX(a){var b=a.p256dh,c=a.auth,d=a.endpoint,e=a.vapidKey,f={web:{endpoint:d,auth:c,p256dh:b}};return e!==aI&&(f.web.applicationPubKey=e),f}function aY(a,b,c){return(0,z.__awaiter)(this,void 0,void 0,function(){var d,e,f,g;return(0,z.__generator)(this,function(h){switch(h.label){case 0:if("granted"!==Notification.permission)throw aH.create("permission-blocked");return[4,a0(b,c)];case 1:return d=h.sent(),[4,aR(a)];case 2:if(e=h.sent(),f={vapidKey:c,swScope:b.scope,endpoint:d.endpoint,auth:aL(d.getKey("auth")),p256dh:aL(d.getKey("p256dh"))},e)return[3,3];return[2,a_(a,f)];case 3:if(a1(e.subscriptionOptions,f))return[3,8];h.label=4;case 4:return h.trys.push([4,6,,7]),[4,aU(a,e.token)];case 5:return h.sent(),[3,7];case 6:return g=h.sent(),console.warn(g),[3,7];case 7:return[2,a_(a,f)];case 8:if(Date.now()>=e.createTime+6048e5)return[2,a$({token:e.token,createTime:Date.now(),subscriptionOptions:f},a,b)];return[2,e.token];case 9:return[2]}})})}function aZ(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,aR(a)];case 1:if(!(c=e.sent()))return[3,4];return[4,aU(a,c.token)];case 2:return e.sent(),[4,function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return b=aT(a),[4,aQ()];case 1:return[4,(d=(c=e.sent()).transaction(aO,"readwrite")).objectStore(aO).delete(b)];case 2:return e.sent(),[4,d.complete];case 3:return e.sent(),[2]}})})}(a)];case 3:e.sent(),e.label=4;case 4:return[4,b.pushManager.getSubscription()];case 5:if(d=e.sent())return[2,d.unsubscribe()];return[2,!0]}})})}function a$(a,b,c){return(0,z.__awaiter)(this,void 0,void 0,function(){var d,e,f;return(0,z.__generator)(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,5]),[4,function(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e,f,g,h,i;return(0,z.__generator)(this,function(j){switch(j.label){case 0:return[4,aW(a)];case 1:c=j.sent(),d=aX(b.subscriptionOptions),e={method:"PATCH",headers:c,body:JSON.stringify(d)},j.label=2;case 2:return j.trys.push([2,5,,6]),[4,fetch(aV(a.appConfig)+"/"+b.token,e)];case 3:return[4,(g=j.sent()).json()];case 4:return f=j.sent(),[3,6];case 5:throw h=j.sent(),aH.create("token-update-failed",{errorInfo:h});case 6:if(f.error)throw i=f.error.message,aH.create("token-update-failed",{errorInfo:i});if(!f.token)throw aH.create("token-update-no-token");return[2,f.token]}})})}(b,a)];case 1:return d=g.sent(),[4,aS(b,e=(0,z.__assign)((0,z.__assign)({},a),{token:d,createTime:Date.now()}))];case 2:return g.sent(),[2,d];case 3:return f=g.sent(),[4,aZ(b,c)];case 4:throw g.sent(),f;case 5:return[2]}})})}function a_(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e,f,g,h,i;return(0,z.__generator)(this,function(j){switch(j.label){case 0:return[4,aW(a)];case 1:c=j.sent(),d=aX(b),e={method:"POST",headers:c,body:JSON.stringify(d)},j.label=2;case 2:return j.trys.push([2,5,,6]),[4,fetch(aV(a.appConfig),e)];case 3:return[4,(g=j.sent()).json()];case 4:return f=j.sent(),[3,6];case 5:throw h=j.sent(),aH.create("token-subscribe-failed",{errorInfo:h});case 6:if(f.error)throw i=f.error.message,aH.create("token-subscribe-failed",{errorInfo:i});if(!f.token)throw aH.create("token-subscribe-no-token");return[2,f.token]}})})}(a,b)];case 1:return[4,aS(a,d={token:c=e.sent(),createTime:Date.now(),subscriptionOptions:b})];case 2:return e.sent(),[2,d.token]}})})}function a0(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,a.pushManager.getSubscription()];case 1:if(c=d.sent())return[2,c];return[2,a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(a){for(var b="=".repeat((4-a.length%4)%4),c=(a+b).replace(/\-/g,"+").replace(/_/g,"/"),d=atob(c),e=new Uint8Array(d.length),f=0;f<d.length;++f)e[f]=d.charCodeAt(f);return e}(b)})]}})})}function a1(a,b){var c=b.vapidKey===a.vapidKey,d=b.endpoint===a.endpoint,e=b.auth===a.auth,f=b.p256dh===a.p256dh;return c&&d&&e&&f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function a2(a){return"object"==typeof a&&!!a&&aK in a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /** Returns a promise that resolves after given time passes. */ function a3(a){return new Promise(function(b){setTimeout(b,a)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var a4=function(){function a(a){var b=this;this.firebaseDependencies=a,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(a){a.waitUntil(b.onPush(a))}),self.addEventListener("pushsubscriptionchange",function(a){a.waitUntil(b.onSubChange(a))}),self.addEventListener("notificationclick",function(a){a.waitUntil(b.onNotificationClick(a))})}return Object.defineProperty(a.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),a.prototype.setBackgroundMessageHandler=function(a){if(this.isOnBackgroundMessageUsed=!1,!a||"function"!=typeof a)throw aH.create("invalid-bg-handler");this.bgMessageHandler=a},a.prototype.onBackgroundMessage=function(a){var b=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=a,function(){b.bgMessageHandler=null}},a.prototype.getToken=function(){var a,b;return(0,z.__awaiter)(this,void 0,void 0,function(){var c;return(0,z.__generator)(this,function(d){switch(d.label){case 0:if(this.vapidKey)return[3,2];return[4,aR(this.firebaseDependencies)];case 1:c=d.sent(),this.vapidKey=null!==(b=null===(a=null==c?void 0:c.subscriptionOptions)|| void 0===a?void 0:a.vapidKey)&& void 0!==b?b:aI,d.label=2;case 2:return[2,aY(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},a.prototype.deleteToken=function(){return aZ(this.firebaseDependencies,self.registration)},a.prototype.requestPermission=function(){throw aH.create("only-available-in-window")},a.prototype.usePublicVapidKey=function(a){if(null!==this.vapidKey)throw aH.create("use-vapid-key-after-get-token");if("string"!=typeof a||0===a.length)throw aH.create("invalid-vapid-key");this.vapidKey=a},a.prototype.useServiceWorker=function(){throw aH.create("only-available-in-window")},a.prototype.onMessage=function(){throw aH.create("only-available-in-window")},a.prototype.onTokenRefresh=function(){throw aH.create("only-available-in-window")},a.prototype.onPush=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d,e;return(0,z.__generator)(this,function(f){switch(f.label){case 0:if(!(b=a6(a)))return console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2];return[4,ba()];case 1:if(a8(c=f.sent()))return[2,a9(c,b)];if(d=!1,!b.notification)return[3,3];return[4,bb(a5(b))];case 2:f.sent(),d=!0,f.label=3;case 3:if(!0===d&& !1===this.isOnBackgroundMessageUsed)return[2];if(this.bgMessageHandler){var g,h,i,j;e=(function a(b,c){if(c.notification){b.notification={};var d=c.notification.title;d&&(b.notification.title=d);var e=c.notification.body;e&&(b.notification.body=e);var f=c.notification.image;f&&(b.notification.image=f)}}(h={from:(g=b).from,collapseKey:g.collapse_key},g),i=h,!(j=g).data||(i.data=j.data),function a(b,c){if(c.fcmOptions){b.fcmOptions={};var d=c.fcmOptions.link;d&&(b.fcmOptions.link=d);var e=c.fcmOptions.analytics_label;e&&(b.fcmOptions.analyticsLabel=e)}}(h,g),h),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(e):this.bgMessageHandler.next(e)}return[4,a3(1e3)];case 4:return f.sent(),[2]}})})},a.prototype.onSubChange=function(a){var b,c;return(0,z.__awaiter)(this,void 0,void 0,function(){var d,e;return(0,z.__generator)(this,function(f){switch(f.label){case 0:if(d=a.newSubscription)return[3,2];return[4,aZ(this.firebaseDependencies,self.registration)];case 1:case 5:return f.sent(),[2];case 2:return[4,aR(this.firebaseDependencies)];case 3:return e=f.sent(),[4,aZ(this.firebaseDependencies,self.registration)];case 4:return f.sent(),[4,aY(this.firebaseDependencies,self.registration,null!==(c=null===(b=null==e?void 0:e.subscriptionOptions)|| void 0===b?void 0:b.vapidKey)&& void 0!==c?c:aI)]}})})},a.prototype.onNotificationClick=function(a){var b,c;return(0,z.__awaiter)(this,void 0,void 0,function(){var d,e,g,h,i;return(0,z.__generator)(this,function(j){switch(j.label){case 0:if(!(d=null===(c=null===(b=a.notification)|| void 0===b?void 0:b.data)|| void 0===c?void 0:c[aJ])||a.action||(a.stopImmediatePropagation(),a.notification.close(),!(e=bc(d)))||(g=new URL(e,self.location.href),h=new URL(self.location.origin),g.host!==h.host))return[2];return[4,a7(g)];case 1:if(i=j.sent())return[3,4];return[4,self.clients.openWindow(e)];case 2:return i=j.sent(),[4,a3(3e3)];case 3:return j.sent(),[3,6];case 4:return[4,i.focus()];case 5:i=j.sent(),j.label=6;case 6:if(!i)return[2];return d.messageType=f.NOTIFICATION_CLICKED,d.isFirebaseMessaging=!0,[2,i.postMessage(d)]}})})},a}();function a5(a){var b,c=(0,z.__assign)({},a.notification);return c.data=((b={})[aJ]=a,b),c}function a6(a){var b=a.data;if(!b)return null;try{return b.json()}catch(c){return null}}function a7(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d,e,f,g,h;return(0,z.__generator)(this,function(i){switch(i.label){case 0:return[4,ba()];case 1:b=i.sent();try{for(d=(c=(0,z.__values)(b)).next();!d.done;d=c.next())if(e=d.value,f=new URL(e.url,self.location.href),a.host===f.host)return[2,e]}catch(j){g={error:j}}finally{try{d&&!d.done&&(h=c.return)&&h.call(c)}finally{if(g)throw g.error}}return[2,null]}})})}function a8(a){return a.some(function(a){return"visible"===a.visibilityState&&!a.url.startsWith("chrome-extension://")})}function a9(a,b){var c,d;b.isFirebaseMessaging=!0,b.messageType=f.PUSH_RECEIVED;try{for(var e=(0,z.__values)(a),g=e.next();!g.done;g=e.next())g.value.postMessage(b)}catch(h){c={error:h}}finally{try{g&&!g.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}}function ba(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function bb(a){var b,c=a.actions,d=Notification.maxActions;return c&&d&&c.length>d&&console.warn("This browser only supports "+d+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(b=a.title)&& void 0!==b?b:"",a)}function bc(a){var b,c,d,e=null!==(c=null===(b=a.fcmOptions)|| void 0===b?void 0:b.link)&& void 0!==c?c:null===(d=a.notification)|| void 0===d?void 0:d.click_action;return e||(a2(a.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var bd=function(){function a(a){var b=this;this.firebaseDependencies=a,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(a){return b.messageEventListener(a)})}return Object.defineProperty(a.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),a.prototype.messageEventListener=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c;return(0,z.__generator)(this,function(d){switch(d.label){case 0:if(!(b=a.data).isFirebaseMessaging)return[2];if(this.onMessageCallback&&b.messageType===f.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(bf(Object.assign({},b))):this.onMessageCallback.next(Object.assign({},b))),!(a2(c=b.data)&&"1"===c["google.c.a.e"]))return[3,2];return[4,this.logEvent(b.messageType,c)];case 1:d.sent(),d.label=2;case 2:return[2]}})})},a.prototype.getVapidKey=function(){return this.vapidKey},a.prototype.getSwReg=function(){return this.swRegistration},a.prototype.getToken=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){return(0,z.__generator)(this,function(b){switch(b.label){case 0:if("default"!==Notification.permission)return[3,2];return[4,Notification.requestPermission()];case 1:b.sent(),b.label=2;case 2:if("granted"!==Notification.permission)throw aH.create("permission-blocked");return[4,this.updateVapidKey(null==a?void 0:a.vapidKey)];case 3:return b.sent(),[4,this.updateSwReg(null==a?void 0:a.serviceWorkerRegistration)];case 4:return b.sent(),[2,aY(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},a.prototype.updateVapidKey=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){return(0,z.__generator)(this,function(b){return a?this.vapidKey=a:this.vapidKey||(this.vapidKey=aI),[2]})})},a.prototype.updateSwReg=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){return(0,z.__generator)(this,function(b){switch(b.label){case 0:if(!(!a&&!this.swRegistration))return[3,2];return[4,this.registerDefaultSw()];case 1:b.sent(),b.label=2;case 2:if(!a&&this.swRegistration)return[2];if(!(a instanceof ServiceWorkerRegistration))throw aH.create("invalid-sw-registration");return this.swRegistration=a,[2]}})})},a.prototype.registerDefaultSw=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a,b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),a=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return a.swRegistration=c.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw b=c.sent(),aH.create("failed-service-worker-registration",{browserErrorMessage:b.message});case 3:return[2]}})})},a.prototype.deleteToken=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){return(0,z.__generator)(this,function(a){switch(a.label){case 0:if(this.swRegistration)return[3,2];return[4,this.registerDefaultSw()];case 1:a.sent(),a.label=2;case 2:return[2,aZ(this.firebaseDependencies,this.swRegistration)]}})})},a.prototype.requestPermission=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a;return(0,z.__generator)(this,function(b){switch(b.label){case 0:if("granted"===Notification.permission)return[2];return[4,Notification.requestPermission()];case 1:if("granted"===(a=b.sent()))return[2];if("denied"===a)throw aH.create("permission-blocked");throw aH.create("permission-default")}})})},a.prototype.usePublicVapidKey=function(a){if(null!==this.vapidKey)throw aH.create("use-vapid-key-after-get-token");if("string"!=typeof a||0===a.length)throw aH.create("invalid-vapid-key");this.vapidKey=a},a.prototype.useServiceWorker=function(a){if(!(a instanceof ServiceWorkerRegistration))throw aH.create("invalid-sw-registration");if(this.swRegistration)throw aH.create("use-sw-after-get-token");this.swRegistration=a},a.prototype.onMessage=function(a){var b=this;return this.onMessageCallback=a,function(){b.onMessageCallback=null}},a.prototype.setBackgroundMessageHandler=function(){throw aH.create("only-available-in-sw")},a.prototype.onBackgroundMessage=function(){throw aH.create("only-available-in-sw")},a.prototype.onTokenRefresh=function(){return function(){}},a.prototype.logEvent=function(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return c=be(a),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return(d=e.sent()).logEvent(c,{message_id:b[aK],message_name:b["google.c.a.c_l"],message_time:b["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},a}();function be(a){switch(a){case f.NOTIFICATION_CLICKED:return"notification_open";case f.PUSH_RECEIVED:return"notification_foreground";default:throw Error()}}function bf(a){return delete a.messageType,delete a.isFirebaseMessaging,a}function bg(a){return aH.create("missing-app-config-values",{valueName:a})}function bh(){return self&&"ServiceWorkerGlobalScope"in self?bj():bi()}function bi(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function bj(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}v.default.INTERNAL.registerComponent(new A.Component("messaging",function(a){var b=a.getProvider("app").getImmediate(),c=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function(a){if(!a||!a.options)throw bg("App Configuration Object");if(!a.name)throw bg("App Name");var b,c,d=["projectId","apiKey","appId","messagingSenderId"],e=a.options;try{for(var f=(0,z.__values)(d),g=f.next();!g.done;g=f.next()){var h=g.value;if(!e[h])throw bg(h)}}catch(i){b={error:i}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}return{appName:a.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}(b),d=a.getProvider("installations").getImmediate(),e=a.getProvider("analytics-internal"),f={app:b,appConfig:c,installations:d,analyticsProvider:e};if(!bh())throw aH.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new a4(f):new bd(f)},"PUBLIC").setServiceProps({isSupported:bh}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @fileoverview Constants used in the Firebase Storage library.
 */ /**
 * Domain name for firebase storage.
 */ var bk="firebasestorage.googleapis.com",bl="storageBucket",bm=function(a){function b(c,d){var e,f,g=a.call(this,(e=c,"storage/"+e),"Firebase Storage: "+d+" ("+(f=c,"storage/"+f)+")")||this;return g.customData={serverResponse:null},g._baseMessage=g.message,Object.setPrototypeOf(g,b.prototype),g}return(0,z.__extends)(b,a),b.prototype._codeEquals=function(a){var b;return b=a,"storage/"+b===this.code},Object.defineProperty(b.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(a){this.customData.serverResponse=a,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),b}(x.FirebaseError);function bn(){return new bm("unknown","An unknown error occurred, please check the error payload for server response.")}function bo(){return new bm("canceled","User canceled the upload/download.")}function bp(){return new bm("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function bq(a){return new bm("invalid-argument",a)}function br(){return new bm("app-deleted","The Firebase app was deleted.")}function bs(a){return new bm("invalid-root-operation","The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bt(a,b){return new bm("invalid-format","String does not match format '"+a+"': "+b)}function bu(a){throw new bm("internal-error","Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * An enumeration of the possible string formats for upload.
 * @public
 */ var bv={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},bw=function(a,b){this.data=a,this.contentType=b||null};function bx(a,b){switch(a){case bv.RAW:return new bw(by(b));case bv.BASE64:case bv.BASE64URL:return new bw(bz(a,b));case bv.DATA_URL:return new bw(bB(b),bC(b))}throw bn()}function by(a){for(var b=[],c=0;c<a.length;c++){var d,e=a.charCodeAt(c);if(e<=127)b.push(e);else if(e<=2047)b.push(192|e>>6,128|63&e);else if((64512&e)==55296){if(c<a.length-1&&(64512&a.charCodeAt(c+1))==56320){e=65536|(1023&e)<<10|1023&a.charCodeAt(++c),b.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e)}else b.push(239,191,189)}else(64512&e)==56320?b.push(239,191,189):b.push(224|e>>12,128|e>>6&63,128|63&e)}return new Uint8Array(b)}function bz(a,b){switch(a){case bv.BASE64:var c,d,e=-1!==b.indexOf("-"),f=-1!==b.indexOf("_");if(e||f){var g=e?"-":"_";throw bt(a,"Invalid character '"+g+"' found: is it base64url encoded?")}break;case bv.BASE64URL:var h=-1!==b.indexOf("+"),i=-1!==b.indexOf("/");if(h||i){var g=h?"+":"/";throw bt(a,"Invalid character '"+g+"' found: is it base64 encoded?")}b=b.replace(/-/g,"+").replace(/_/g,"/")}try{d=(c=b,atob(c))}catch(j){throw bt(a,"Invalid character found")}for(var k=new Uint8Array(d.length),l=0;l<d.length;l++)k[l]=d.charCodeAt(l);return k}var bA=function(a){this.base64=!1,this.contentType=null;var b=a.match(/^data:([^,]+)?,/);if(null===b)throw bt(bv.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var c=b[1]||null;null!=c&&(this.base64=bD(c,";base64"),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=a.substring(a.indexOf(",")+1)};function bB(a){var b=new bA(a);return b.base64?bz(bv.BASE64,b.rest):function(a){var b;try{b=decodeURIComponent(a)}catch(c){throw bt(bv.DATA_URL,"Malformed data URL.")}return by(b)}(b.rest)}function bC(a){return new bA(a).contentType}function bD(a,b){return a.length>=b.length&&a.substring(a.length-b.length)===b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * An event that is triggered on a task.
 */ var bE={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bF(a){switch(a){case"running":case"pausing":case"canceling":return bE.RUNNING;case"paused":return bE.PAUSED;case"success":return bE.SUCCESS;case"canceled":return bE.CANCELED;default:return bE.ERROR}}(dd=g||(g={}))[dd.NO_ERROR=0]="NO_ERROR",dd[dd.NETWORK_ERROR=1]="NETWORK_ERROR",dd[dd.ABORT=2]="ABORT";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Network layer for browsers. We use this instead of goog.net.XhrIo because
 * goog.net.XhrIo is hyuuuuge and doesn't work in React Native on Android.
 */ var bG=function(){function a(){var a=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=g.NO_ERROR,this.sendPromise_=new Promise(function(b){a.xhr_.addEventListener("abort",function(){a.errorCode_=g.ABORT,b()}),a.xhr_.addEventListener("error",function(){a.errorCode_=g.NETWORK_ERROR,b()}),a.xhr_.addEventListener("load",function(){b()})})}return a.prototype.send=function(a,b,c,d){if(this.sent_)throw bu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(b,a,!0),void 0!==d)for(var e in d)d.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,d[e].toString());return void 0!==c?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_},a.prototype.getErrorCode=function(){if(!this.sent_)throw bu("cannot .getErrorCode() before sending");return this.errorCode_},a.prototype.getStatus=function(){if(!this.sent_)throw bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(a){return -1}},a.prototype.getResponseText=function(){if(!this.sent_)throw bu("cannot .getResponseText() before sending");return this.xhr_.responseText},a.prototype.abort=function(){this.xhr_.abort()},a.prototype.getResponseHeader=function(a){return this.xhr_.getResponseHeader(a)},a.prototype.addUploadProgressListener=function(a){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",a)},a.prototype.removeUploadProgressListener=function(a){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",a)},a}(),bH=function(){function a(){}return a.prototype.createConnection=function(){return new bG},a}(),bI=function(){function a(a,b){this.bucket=a,this.path_=b}return Object.defineProperty(a.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),a.prototype.fullServerUrl=function(){var a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)},a.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},a.makeFromBucketSpec=function(b,c){var d,e;try{d=a.makeFromUrl(b,c)}catch(f){return new a(b,"")}if(""===d.path)return d;throw e=b,new bm("invalid-default-bucket","Invalid default bucket '"+e+"'.")},a.makeFromUrl=function(b,c){var d,e=null,f="([A-Za-z0-9.\\-_]+)",g=RegExp("^gs://"+f+"(/(.*))?$","i");function h(a){a.path_=decodeURIComponent(a.path)}for(var i=c.replace(/[.]/g,"\\."),j=RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/"+f+"/o(/([^?#]*).*)?$","i"),k=RegExp("^https?://"+(c===bk?"(?:storage.googleapis.com|storage.cloud.google.com)":c)+"/"+f+"/([^?#]*)","i"),l=[{regex:g,indices:{bucket:1,path:3},postModify:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path_=a.path_.slice(0,-1))}},{regex:j,indices:{bucket:1,path:3},postModify:h},{regex:k,indices:{bucket:1,path:2},postModify:h}],m=0;m<l.length;m++){var n=l[m],o=n.regex.exec(b);if(o){var p=o[n.indices.bucket],q=o[n.indices.path];q||(q=""),e=new a(p,q),n.postModify(e);break}}if(null==e)throw d=b,new bm("invalid-url","Invalid URL '"+d+"'.");return e},a}(),bJ=function(){function a(a){this.promise_=Promise.reject(a)}return a.prototype.getPromise=function(){return this.promise_},a.prototype.cancel=function(a){},a}();function bK(a){return"string"==typeof a||a instanceof String}function bL(a){return bM()&&a instanceof Blob}function bM(){return"undefined"!=typeof Blob}function bN(a,b,c,d){if(d<b)throw bq("Invalid value for '"+a+"'. Expected "+b+" or greater.");if(d>c)throw bq("Invalid value for '"+a+"'. Expected "+c+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function bO(a,b){var c=b.match(/^(\w+):\/\/.+/),d=null==c?void 0:c[1],e=b;return null==d&&(e="https://"+b),e+"/v0"+a}function bP(a){var b=encodeURIComponent,c="?";for(var d in a)if(a.hasOwnProperty(d)){var e=b(d)+"="+b(a[d]);c=c+e+"&"}return c.slice(0,-1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var bQ=function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=a,this.method_=b,this.headers_=c,this.body_=d,this.successCodes_=e.slice(),this.additionalRetryCodes_=f.slice(),this.callback_=g,this.errorCallback_=h,this.progressCallback_=j,this.timeout_=i,this.pool_=k,this.promise_=new Promise(function(a,b){l.resolve_=a,l.reject_=b,l.start_()})}return a.prototype.start_=function(){var a=this;function b(b,c){var d=a.resolve_,e=a.reject_,f=c.connection;if(c.wasSuccessCode)try{var g,h=a.callback_(f,f.getResponseText());(g=h,void 0!==g)?d(h):d()}catch(i){e(i)}else if(null!==f){var j=bn();j.serverResponse=f.getResponseText(),e(a.errorCallback_?a.errorCallback_(f,j):j)}else if(c.canceled){var j=a.appDelete_?br():bo();e(j)}else{var j=new bm("retry-limit-exceeded","Max retry time for operation exceeded, please try again.");e(j)}}this.canceled_?b(!1,new bR(!1,null,!0)):this.backoffId_=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @param f May be invoked
 *     before the function returns.
 * @param callback Get all the arguments passed to the function
 *     passed to f, including the initial boolean.
 */ function(a,b,c){var d=1,e=null,f=!1,g=0;function h(){return 2===g}var i=!1;function j(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];i||(i=!0,b.apply(null,a))}function k(b){e=setTimeout(function(){e=null,a(l,h())},b)}function l(a){for(var b,c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];if(!i){if(a||h()||f){j.call.apply(j,(0,z.__spreadArray)([null,a],c));return}d<64&&(d*=2),1===g?(g=2,b=0):b=(d+Math.random())*1e3,k(b)}}var m=!1;function n(a){if(!m)m=!0,!i&&(null!==e?(a||(g=2),clearTimeout(e),k(0)):a||(g=1))}return k(0),setTimeout(function(){f=!0,n(!0)},c),n}(function(b,c){if(c){b(!1,new bR(!1,null,!0));return}var d=a.pool_.createConnection();function e(b){var c=b.loaded,d=b.lengthComputable?b.total:-1;null!==a.progressCallback_&&a.progressCallback_(c,d)}a.pendingConnection_=d,null!==a.progressCallback_&&d.addUploadProgressListener(e),d.send(a.url_,a.method_,a.body_,a.headers_).then(function(){null!==a.progressCallback_&&d.removeUploadProgressListener(e),a.pendingConnection_=null;var c=d.getErrorCode()===g.NO_ERROR,f=d.getStatus();if(!c||a.isRetryStatusCode_(f)){var h=d.getErrorCode()===g.ABORT;b(!1,new bR(!1,null,h));return}var i=-1!==a.successCodes_.indexOf(f);b(!0,new bR(i,d))})},b,this.timeout_)},a.prototype.getPromise=function(){return this.promise_},a.prototype.cancel=function(a){if(this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_){var b;(b=this.backoffId_)(!1)}null!==this.pendingConnection_&&this.pendingConnection_.abort()},a.prototype.isRetryStatusCode_=function(a){var b=-1!==[408,429].indexOf(a),c=-1!==this.additionalRetryCodes_.indexOf(a);return a>=500&&a<600||b||c},a}(),bR=function(a,b,c){this.wasSuccessCode=a,this.connection=b,this.canceled=!!c};function bS(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==c){for(var d=new c,e=0;e<a.length;e++)d.append(a[e]);return d.getBlob()}if(bM())return new Blob(a);throw new bm("unsupported-environment","This browser doesn't seem to support creating Blobs")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @param opt_elideCopy - If true, doesn't copy mutable input data
 *     (e.g. Uint8Arrays). Pass true only if you know the objects will not be
 *     modified after this blob's construction.
 *
 * @internal
 */ var bT=function(){function a(a,b){var c=0,d="";bL(a)?(this.data_=a,c=a.size,d=a.type):a instanceof ArrayBuffer?(b?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),c=this.data_.length):a instanceof Uint8Array&&(b?this.data_=a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),c=a.length),this.size_=c,this.type_=d}return a.prototype.size=function(){return this.size_},a.prototype.type=function(){return this.type_},a.prototype.slice=function(b,c){if(bL(this.data_)){var d,e,f,g=(d=this.data_,e=b,f=c,d.webkitSlice?d.webkitSlice(e,f):d.mozSlice?d.mozSlice(e,f):d.slice?d.slice(e,f):null);return null===g?null:new a(g)}var h=new Uint8Array(this.data_.buffer,b,c-b);return new a(h,!0)},a.getBlob=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(bM()){var d=b.map(function(b){return b instanceof a?b.data_:b});return new a(bS.apply(null,d))}var e=b.map(function(a){return bK(a)?bx(bv.RAW,a).data:a.data_}),f=0;e.forEach(function(a){f+=a.byteLength});var g=new Uint8Array(f),h=0;return e.forEach(function(a){for(var b=0;b<a.length;b++)g[h++]=a[b]}),new a(g,!0)},a.prototype.uploadData=function(){return this.data_},a}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Returns the Object resulting from parsing the given JSON, or null if the
 * given string does not represent a JSON object.
 */ function bU(a){var b,c;try{b=JSON.parse(a)}catch(d){return null}return"object"!=typeof(c=b)||Array.isArray(c)?null:b}function bV(a){var b=a.lastIndexOf("/",a.length-2);return -1===b?a:a.slice(b+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function bW(a,b){return b}var bX=function(a,b,c,d){this.server=a,this.local=b||a,this.writable=!!c,this.xform=d||bW},bY=null;function bZ(){if(bY)return bY;var a=[];a.push(new bX("bucket")),a.push(new bX("generation")),a.push(new bX("metageneration")),a.push(new bX("name","fullPath",!0));var b=new bX("name");b.xform=function(a,b){var c;return!bK(c=b)||c.length<2?c:bV(c)},a.push(b);var c=new bX("size");return c.xform=function(a,b){return void 0!==b?Number(b):b},a.push(c),a.push(new bX("timeCreated")),a.push(new bX("updated")),a.push(new bX("md5Hash",null,!0)),a.push(new bX("cacheControl",null,!0)),a.push(new bX("contentDisposition",null,!0)),a.push(new bX("contentEncoding",null,!0)),a.push(new bX("contentLanguage",null,!0)),a.push(new bX("contentType",null,!0)),a.push(new bX("metadata","customMetadata",!0)),bY=a}function b$(a,b,c){var d=bU(b);return null===d?null:function(a,b,c){var d,e,f={};f.type="file";for(var g=c.length,h=0;h<g;h++){var i=c[h];f[i.local]=i.xform(f,b[i.server])}return d=f,e=a,Object.defineProperty(d,"ref",{get:function(){var a=d.bucket,b=d.fullPath,c=new bI(a,b);return e._makeStorageReference(c)}}),f}(a,d,c)}function b_(a,b){for(var c={},d=b.length,e=0;e<d;e++){var f=b[e];f.writable&&(c[f.server]=a[f.local])}return JSON.stringify(c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var b0="prefixes",b1="items",b2=function(a,b,c,d){this.url=a,this.method=b,this.handler=c,this.timeout=d,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Throws the UNKNOWN FirebaseStorageError if cndn is false.
 */ function b3(a){if(!a)throw bn()}function b4(a,b){return function(c,d){var e=b$(a,d,b);return b3(null!==e),e}}function b5(a){return function(b,c){var d,e,f;return(d=401===b.getStatus()?b.getResponseText().includes("Firebase App Check token is invalid")?new bm("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new bm("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===b.getStatus()?(e=a.bucket,new bm("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===b.getStatus()?(f=a.path,new bm("unauthorized","User does not have permission to access '"+f+"'.")):c).serverResponse=c.serverResponse,d}}function b6(a){var b=b5(a);return function(c,d){var e,f=b(c,d);return 404===c.getStatus()&&(f=(e=a.path,new bm("object-not-found","Object '"+e+"' does not exist."))),f.serverResponse=d.serverResponse,f}}function b7(a,b,c){var d=bO(b.fullServerUrl(),a.host),e=a.maxOperationRetryTime,f=new b2(d,"GET",b4(a,c),e);return f.errorHandler=b6(b),f}function b8(a,b,c){var d,e,f=Object.assign({},c);return f.fullPath=a.path,f.size=b.size(),!f.contentType&&(f.contentType=(d=null,e=b,d&&d.contentType||e&&e.type()||"application/octet-stream")),f}var b9=function(a,b,c,d){this.current=a,this.total=b,this.finalized=!!c,this.metadata=d||null};function ca(a,b){var c=null;try{c=a.getResponseHeader("X-Goog-Upload-Status")}catch(d){b3(!1)}return b3(!!c&& -1!==(b||["active"]).indexOf(c)),c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var cb=function(a,b,c){var d;if("function"==typeof(d=a)||null!=b||null!=c)this.next=a,this.error=b,this.complete=c;else{var e=a;this.next=e.next,this.error=e.error,this.complete=e.complete}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Returns a function that invokes f with its arguments asynchronously as a
 * microtask, i.e. as soon as possible after the current script returns back
 * into browser code.
 */ // eslint-disable-next-line @typescript-eslint/ban-types
function cc(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];Promise.resolve().then(function(){return a.apply(void 0,b)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Represents a blob being uploaded. Can be used to pause/resume/cancel the
 * upload and manage callbacks for various events.
 * @internal
 */ var cd=function(){function a(a,b,c){var d=this;void 0===c&&(c=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=a,this._blob=b,this._metadata=c,this._mappings=bZ(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(a){d._request=void 0,d._chunkMultiplier=1,a._codeEquals("canceled")?(d._needToFetchStatus=!0,d.completeTransitions_()):(d._error=a,d._transition("error"))},this._metadataErrorHandler=function(a){d._request=void 0,a._codeEquals("canceled")?d.completeTransitions_():(d._error=a,d._transition("error"))},this._promise=new Promise(function(a,b){d._resolve=a,d._reject=b,d._start()}),this._promise.then(null,function(){})}return a.prototype._makeProgressCallback=function(){var a=this,b=this._transferred;return function(c){return a._updateProgress(b+c)}},a.prototype._shouldDoResumable=function(a){return a.size()>262144},a.prototype._start=function(){"running"===this._state&& void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},a.prototype._resolveToken=function(a){var b=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(c){var d=c[0],e=c[1];switch(b._state){case"running":a(d,e);break;case"canceling":b._transition("canceled");break;case"pausing":b._transition("paused")}})},a.prototype._createResumable=function(){var a=this;this._resolveToken(function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=(d=a._ref.storage,e=a._ref._location,f=a._mappings,g=a._blob,h=a._metadata,i=e.bucketOnlyServerUrl(),j=b8(e,g,h),k={name:j.fullPath},l=bO(i,d.host),m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+g.size(),"X-Goog-Upload-Header-Content-Type":j.contentType,"Content-Type":"application/json; charset=utf-8"},n=b_(j,f),o=d.maxUploadRetryTime,p=new b2(l,"POST",function(a){var b;ca(a);try{b=a.getResponseHeader("X-Goog-Upload-URL")}catch(c){b3(!1)}return b3(bK(b)),b},o),p.urlParams=k,p.headers=m,p.body=n,p.errorHandler=b5(e),p),r=a._ref.storage._makeRequest(q,b,c);a._request=r,r.getPromise().then(function(b){a._request=void 0,a._uploadUrl=b,a._needToFetchStatus=!1,a.completeTransitions_()},a._errorHandler)})},a.prototype._fetchStatus=function(){var a=this,b=this._uploadUrl;this._resolveToken(function(c,d){var e,f,g,h,i,j,k=(e=a._ref.storage,f=a._ref._location,g=b,h=a._blob,i=e.maxUploadRetryTime,j=new b2(g,"POST",function(a){var b=ca(a,["active","final"]),c=null;try{c=a.getResponseHeader("X-Goog-Upload-Size-Received")}catch(d){b3(!1)}c||b3(!1);var e=Number(c);return b3(!isNaN(e)),new b9(e,h.size(),"final"===b)},i),j.headers={"X-Goog-Upload-Command":"query"},j.errorHandler=b5(f),j),l=a._ref.storage._makeRequest(k,c,d);a._request=l,l.getPromise().then(function(b){a._request=void 0,a._updateProgress(b.current),a._needToFetchStatus=!1,b.finalized&&(a._needToFetchMetadata=!0),a.completeTransitions_()},a._errorHandler)})},a.prototype._continueUpload=function(){var a=this,b=262144*this._chunkMultiplier,c=new b9(this._transferred,this._blob.size()),d=this._uploadUrl;this._resolveToken(function(e,f){try{h=function(a,b,c,d,e,f,g,h){var i=new b9(0,0);if(g?(i.current=g.current,i.total=g.total):(i.current=0,i.total=d.size()),d.size()!==i.total)throw new bm("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var j=i.total-i.current,k=j;e>0&&(k=Math.min(k,e));var l=i.current,m=l+k,n=k===j?"upload, finalize":"upload",o={"X-Goog-Upload-Command":n,"X-Goog-Upload-Offset":""+i.current},p=d.slice(l,m);if(null===p)throw bp();var q=b.maxUploadRetryTime,r=new b2(c,"POST",function(a,c){var e,g=ca(a,["active","final"]),h=i.current+k,j=d.size();return e="final"===g?b4(b,f)(a,c):null,new b9(h,j,"final"===g,e)},q);return r.headers=o,r.body=p.uploadData(),r.progressCallback=h||null,r.errorHandler=b5(a),r}(a._ref._location,a._ref.storage,d,a._blob,b,a._mappings,c,a._makeProgressCallback())}catch(g){a._error=g,a._transition("error");return}var h,i=a._ref.storage._makeRequest(h,e,f);a._request=i,i.getPromise().then(function(b){a._increaseMultiplier(),a._request=void 0,a._updateProgress(b.current),b.finalized?(a._metadata=b.metadata,a._transition("success")):a.completeTransitions_()},a._errorHandler)})},a.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},a.prototype._fetchMetadata=function(){var a=this;this._resolveToken(function(b,c){var d=b7(a._ref.storage,a._ref._location,a._mappings),e=a._ref.storage._makeRequest(d,b,c);a._request=e,e.getPromise().then(function(b){a._request=void 0,a._metadata=b,a._transition("success")},a._metadataErrorHandler)})},a.prototype._oneShotUpload=function(){var a=this;this._resolveToken(function(b,c){var d=function(a,b,c,d,e){var f=b.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"},h=function(){for(var a="",b=0;b<2;b++)a+=Math.random().toString().slice(2);return a}();g["Content-Type"]="multipart/related; boundary="+h;var i=b8(b,d,e),j=b_(i,c),k="--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+j+"\r\n--"+h+"\r\nContent-Type: "+i.contentType+"\r\n\r\n",l=bT.getBlob(k,d,"\r\n--"+h+"--");if(null===l)throw bp();var m={name:i.fullPath},n=bO(f,a.host),o=a.maxUploadRetryTime,p=new b2(n,"POST",b4(a,c),o);return p.urlParams=m,p.headers=g,p.body=l.uploadData(),p.errorHandler=b5(b),p}(a._ref.storage,a._ref._location,a._mappings,a._blob,a._metadata),e=a._ref.storage._makeRequest(d,b,c);a._request=e,e.getPromise().then(function(b){a._request=void 0,a._metadata=b,a._updateProgress(a._blob.size()),a._transition("success")},a._errorHandler)})},a.prototype._updateProgress=function(a){var b=this._transferred;this._transferred=a,this._transferred!==b&&this._notifyObservers()},a.prototype._transition=function(a){if(this._state!==a)switch(a){case"canceling":case"pausing":this._state=a,void 0!==this._request&&this._request.cancel();break;case"running":var b="paused"===this._state;this._state=a,b&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=a,this._notifyObservers();break;case"canceled":this._error=bo(),this._state=a,this._notifyObservers()}},a.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(a.prototype,"snapshot",{get:function(){var a=bF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:a,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),a.prototype.on=function(a,b,c,d){var e=this,f=new cb(b,c,d);return this._addObserver(f),function(){e._removeObserver(f)}},a.prototype.then=function(a,b){return this._promise.then(a,b)},a.prototype.catch=function(a){return this.then(null,a)},a.prototype._addObserver=function(a){this._observers.push(a),this._notifyObserver(a)},a.prototype._removeObserver=function(a){var b=this._observers.indexOf(a);-1!==b&&this._observers.splice(b,1)},a.prototype._notifyObservers=function(){var a=this;this._finishPromise(),this._observers.slice().forEach(function(b){a._notifyObserver(b)})},a.prototype._finishPromise=function(){if(void 0!==this._resolve){var a=!0;switch(bF(this._state)){case bE.SUCCESS:cc(this._resolve.bind(null,this.snapshot))();break;case bE.CANCELED:case bE.ERROR:cc(this._reject.bind(null,this._error))();break;default:a=!1}a&&(this._resolve=void 0,this._reject=void 0)}},a.prototype._notifyObserver=function(a){var b=bF(this._state);switch(b){case bE.RUNNING:case bE.PAUSED:a.next&&cc(a.next.bind(a,this.snapshot))();break;case bE.SUCCESS:a.complete&&cc(a.complete.bind(a))();break;case bE.CANCELED:case bE.ERROR:default:a.error&&cc(a.error.bind(a,this._error))()}},a.prototype.resume=function(){var a="paused"===this._state||"pausing"===this._state;return a&&this._transition("running"),a},a.prototype.pause=function(){var a="running"===this._state;return a&&this._transition("pausing"),a},a.prototype.cancel=function(){var a="running"===this._state||"pausing"===this._state;return a&&this._transition("canceling"),a},a}(),ce=function(){function a(a,b){this._service=a,b instanceof bI?this._location=b:this._location=bI.makeFromUrl(b,a.host)}return a.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},a.prototype._newRef=function(b,c){return new a(b,c)},Object.defineProperty(a.prototype,"root",{get:function(){var a=new bI(this._location.bucket,"");return this._newRef(this._service,a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return bV(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){var b=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * @fileoverview Contains helper methods for manipulating paths.
 */ /**
 * @return Null if the path is already at the root.
 */ function(a){if(0===a.length)return null;var b=a.lastIndexOf("/");return -1===b?"":a.slice(0,b)}(this._location.path);if(null===b)return null;var c=new bI(this._location.bucket,b);return new a(this._service,c)},enumerable:!1,configurable:!0}),a.prototype._throwIfRoot=function(a){if(""===this._location.path)throw bs(a)},a}();function cf(a,b,c){return(0,z.__awaiter)(this,void 0,void 0,function(){var d,e,f,g;return(0,z.__generator)(this,function(h){switch(h.label){case 0:return[4,cg(a,d={pageToken:c})];case 1:if(e=h.sent(),(f=b.prefixes).push.apply(f,e.prefixes),(g=b.items).push.apply(g,e.items),!(null!=e.nextPageToken))return[3,3];return[4,cf(a,b,e.nextPageToken)];case 2:h.sent(),h.label=3;case 3:return[2]}})})}function cg(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:var f,g,h,i,j,k,l,m,n,o,p;return null!=b&&"number"==typeof b.maxResults&&bN("options.maxResults",1,1e3,b.maxResults),c=b||{},d=(f=a.storage,g=a._location,h="/",i=c.pageToken,j=c.maxResults,k={},g.isRoot?k.prefix="":k.prefix=g.path+"/",h&&h.length>0&&(k.delimiter=h),i&&(k.pageToken=i),j&&(k.maxResults=j),l=bO(g.bucketOnlyServerUrl(),f.host),m=f.maxOperationRetryTime,p=new b2(l,"GET",(n=f,o=g.bucket,function(a,b){var c,d,e,f,g=(c=n,d=o,null===(f=bU(e=b))?null:function(a,b,c){var d={prefixes:[],items:[],nextPageToken:c.nextPageToken};if(c[b0])for(var e=0,f=c[b0];e<f.length;e++){var g=f[e].replace(/\/$/,""),h=a._makeStorageReference(new bI(b,g));d.prefixes.push(h)}if(c[b1])for(var i=0,j=c[b1];i<j.length;i++){var k=j[i],h=a._makeStorageReference(new bI(b,k.name));d.items.push(h)}return d}(c,d,f));return b3(null!==g),g}),m),p.urlParams=k,p.errorHandler=b5(g),p),[4,a.storage.makeRequestWithTokens(d)];case 1:return[2,e.sent().getPromise()]}})})}function ch(a,b){var c,d,e,f=(c=a._location.path,e=(d=b).split("/").filter(function(a){return a.length>0}).join("/"),0===c.length?e:c+"/"+e),g=new bI(a._location.bucket,f);return new ce(a.storage,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function ci(a){return/^[A-Za-z]+:\/\//.test(a)}function cj(a,b){if(a instanceof cl){var c=a;if(null==c._bucket)throw new bm("no-default-bucket","No default bucket found. Did you set the '"+bl+"' property when initializing the app?");var d=new ce(c,c._bucket);return null!=b?cj(d,b):d}if(void 0===b)return a;if(b.includes(".."))throw bq('`path` param cannot contain ".."');return ch(a,b)}function ck(a,b){var c=null==b?void 0:b[bl];return null==c?null:bI.makeFromBucketSpec(c,a)}var cl=function(){function a(a,b,c,d,e,f){this.app=a,this._authProvider=b,this._appCheckProvider=c,this._pool=d,this._url=e,this._firebaseVersion=f,this._bucket=null,this._host=bk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=e?this._bucket=bI.makeFromBucketSpec(e,this._host):this._bucket=ck(this._host,this.app.options)}return Object.defineProperty(a.prototype,"host",{get:function(){return this._host},set:function(a){this._host=a,null!=this._url?this._bucket=bI.makeFromBucketSpec(this._url,a):this._bucket=ck(a,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(a){bN("time",0,Number.POSITIVE_INFINITY,a),this._maxUploadRetryTime=a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(a){bN("time",0,Number.POSITIVE_INFINITY,a),this._maxOperationRetryTime=a},enumerable:!1,configurable:!0}),a.prototype._getAuthToken=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a,b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:if(!(a=this._authProvider.getImmediate({optional:!0})))return[3,2];return[4,a.getToken()];case 1:if(null!==(b=c.sent()))return[2,b.accessToken];c.label=2;case 2:return[2,null]}})})},a.prototype._getAppCheckToken=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a,b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:if(!(a=this._appCheckProvider.getImmediate({optional:!0})))return[3,2];return[4,a.getToken()];case 1:return[2,(b=c.sent()).token];case 2:return[2,null]}})})},a.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(a){return a.cancel()}),this._requests.clear(),Promise.resolve()},a.prototype._makeStorageReference=function(a){return new ce(this,a)},a.prototype._makeRequest=function(a,b,c){var d=this;if(this._deleted)return new bJ(br());var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=(e=a,f=this._appId,g=b,h=c,i=this._pool,j=this._firebaseVersion,k=bP(e.urlParams),l=e.url+k,m=Object.assign({},e.headers),n=m,o=f,o&&(n["X-Firebase-GMPID"]=o),p=m,q=g,null!==q&&q.length>0&&(p.Authorization="Firebase "+q),r=m,s=j,r["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager"),t=m,u=h,null!==u&&(t["X-Firebase-AppCheck"]=u),new bQ(l,e.method,m,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i));return this._requests.add(v),v.getPromise().then(function(){return d._requests.delete(v)},function(){return d._requests.delete(v)}),v},a.prototype.makeRequestWithTokens=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return c=(b=e.sent())[0],d=b[1],[2,this._makeRequest(a,c,d)]}})})},a}();function cm(a,b){return function(a,b){if(!(b&&ci(b)))return cj(a,b);if(a instanceof cl){var c,d;return c=a,d=b,new ce(c,d)}throw bq("To use ref(service, url), the first argument must be a Storage instance.")}(a=(0,x.getModularInstance)(a),b)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var cn=function(){function a(a,b,c){this._delegate=a,this.task=b,this.ref=c}return Object.defineProperty(a.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),a}(),co=function(){function a(a,b){this._delegate=a,this._ref=b,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(a.prototype,"snapshot",{get:function(){return new cn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),a.prototype.then=function(a,b){var c=this;return this._delegate.then(function(b){if(a)return a(new cn(b,c,c._ref))},b)},a.prototype.on=function(a,b,c,d){var e=this,f=void 0;return b&&(f="function"==typeof b?function(a){return b(new cn(a,e,e._ref))}:{next:b.next?function(a){return b.next(new cn(a,e,e._ref))}:void 0,complete:b.complete||void 0,error:b.error||void 0}),this._delegate.on(a,f,c||void 0,d||void 0)},a}(),cp=function(){function a(a,b){this._delegate=a,this._service=b}return Object.defineProperty(a.prototype,"prefixes",{get:function(){var a=this;return this._delegate.prefixes.map(function(b){return new cq(b,a._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"items",{get:function(){var a=this;return this._delegate.items.map(function(b){return new cq(b,a._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),a}(),cq=function(){function a(a,b){this._delegate=a,this.storage=b}return Object.defineProperty(a.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),a.prototype.toString=function(){return this._delegate.toString()},a.prototype.child=function(b){var c,d,e=(c=this._delegate,ch(c,d=b));return new a(e,this.storage)},Object.defineProperty(a.prototype,"root",{get:function(){return new a(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){var b=this._delegate.parent;return null==b?null:new a(b,this.storage)},enumerable:!1,configurable:!0}),a.prototype.put=function(a,b){var c,d,e,f,g,h;return this._throwIfRoot("put"),new co((c=this._delegate,d=a,e=b,f=c=(0,x.getModularInstance)(c),g=d,h=e,f._throwIfRoot("uploadBytesResumable"),new cd(f,new bT(g),h)),this)},a.prototype.putString=function(a,b,c){void 0===b&&(b=bv.RAW),this._throwIfRoot("putString");var d=bx(b,a),e=(0,z.__assign)({},c);return null==e.contentType&&null!=d.contentType&&(e.contentType=d.contentType),new co(new cd(this._delegate,new bT(d.data,!0),e),this)},a.prototype.listAll=function(){var a,b,c,d=this;return(a=this._delegate,b=a=(0,x.getModularInstance)(a),cf(b,c={prefixes:[],items:[]}).then(function(){return c})).then(function(a){return new cp(a,d.storage)})},a.prototype.list=function(a){var b,c,d=this;return(b=this._delegate,c=a||void 0,cg(b=(0,x.getModularInstance)(b),c)).then(function(a){return new cp(a,d.storage)})},a.prototype.getMetadata=function(){var a;return a=this._delegate,function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:return a._throwIfRoot("getMetadata"),b=b7(a.storage,a._location,bZ()),[4,a.storage.makeRequestWithTokens(b)];case 1:return[2,c.sent().getPromise()]}})})}(a=(0,x.getModularInstance)(a))},a.prototype.updateMetadata=function(a){var b,c;return b=this._delegate,c=a,function(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c;return(0,z.__generator)(this,function(d){switch(d.label){case 0:var e,f,g,h,i,j,k,l;return a._throwIfRoot("updateMetadata"),c=(e=a.storage,f=a._location,g=b,h=bZ(),i=bO(f.fullServerUrl(),e.host),j=b_(g,h),k=e.maxOperationRetryTime,l=new b2(i,"PATCH",b4(e,h),k),l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=j,l.errorHandler=b6(f),l),[4,a.storage.makeRequestWithTokens(c)];case 1:return[2,d.sent().getPromise()]}})})}(b=(0,x.getModularInstance)(b),c)},a.prototype.getDownloadURL=function(){var a;return a=this._delegate,function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:var d,e,f,g,h,i,j,k;return a._throwIfRoot("getDownloadURL"),b=(d=a.storage,e=a._location,f=bZ(),g=bO(e.fullServerUrl(),d.host),h=d.maxOperationRetryTime,k=new b2(g,"GET",(i=d,j=f,function(a,b){var c=b$(i,b,j);return b3(null!==c),function(a,b,c){var d=bU(b);if(null===d||!bK(d.downloadTokens))return null;var e=d.downloadTokens;if(0===e.length)return null;var f=encodeURIComponent;return e.split(",").map(function(b){var d=a.bucket,e=a.fullPath,g="/b/"+f(d)+"/o/"+f(e),h=bO(g,c),i=bP({alt:"media",token:b});return h+i})[0]}(c,b,i.host)}),h),k.errorHandler=b6(e),k),[4,a.storage.makeRequestWithTokens(b)];case 1:return[2,c.sent().getPromise().then(function(a){if(null===a)throw new bm("no-download-url","The given file does not have any download URLs.");return a})]}})})}(a=(0,x.getModularInstance)(a))},a.prototype.delete=function(){var a;return this._throwIfRoot("delete"),a=this._delegate,function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:var d,e,f,g,h;return a._throwIfRoot("deleteObject"),b=(d=a.storage,e=a._location,f=bO(e.fullServerUrl(),d.host),g=d.maxOperationRetryTime,h=new b2(f,"DELETE",function(a,b){},g),h.successCodes=[200,204],h.errorHandler=b6(e),h),[4,a.storage.makeRequestWithTokens(b)];case 1:return[2,c.sent().getPromise()]}})})}(a=(0,x.getModularInstance)(a))},a.prototype._throwIfRoot=function(a){if(""===this._delegate._location.path)throw bs(a)},a}(),cr=function(){function a(a,b){var c=this;this.app=a,this._delegate=b,this.INTERNAL={delete:function(){return c._delegate._delete()}}}return Object.defineProperty(a.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),a.prototype.ref=function(a){if(ci(a))throw bq("ref() expected a child path but got a URL, use refFromURL instead.");return new cq(cm(this._delegate,a),this)},a.prototype.refFromURL=function(a){if(!ci(a))throw bq("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bI.makeFromUrl(a,this._delegate.host)}catch(b){throw bq("refFromUrl() expected a valid full URL but got an invalid one.")}return new cq(cm(this._delegate,a),this)},a.prototype.setMaxUploadRetryTime=function(a){this._delegate.maxUploadRetryTime=a},a.prototype.setMaxOperationRetryTime=function(a){this._delegate.maxOperationRetryTime=a},a.prototype.useEmulator=function(a,b){var c,d,e;c=this._delegate,d=a,e=b,c.host="http://"+d+":"+e},a}();(de=v.default).INTERNAL.registerComponent(new A.Component("storage",function a(b,c){var d=c.instanceIdentifier,e=b.getProvider("app").getImmediate(),f=b.getProvider("auth-internal"),g=b.getProvider("app-check-internal"),h=new cr(e,new cl(e,f,g,new bH,d,v.default.SDK_VERSION));return h},"PUBLIC").setServiceProps({TaskState:bE,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:bv,Storage:cl,Reference:cq}).setMultipleInstances(!0)),de.registerVersion("@firebase/storage","0.6.0");var cs="0.4.16",ct=cs,cu="FB-PERF-TRACE-MEASURE",cv="_wt_",cw="_fcp",cx="_fid",cy="@firebase/performance/config",cz="@firebase/performance/configexpire",cA="Performance",cB=((h={})["trace started"]="Trace {$traceName} was started before.",h["trace stopped"]="Trace {$traceName} is not running.",h["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",h["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",h["no window"]="Window is not available.",h["no app id"]="App id is not available.",h["no project id"]="Project id is not available.",h["no api key"]="Api key is not available.",h["invalid cc log"]="Attempted to queue invalid cc event",h["FB not default"]="Performance can only start when Firebase app instance is the default one.",h["RC response not ok"]="RC response is not ok",h["invalid attribute name"]="Attribute name {$attributeName} is invalid.",h["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",h["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",h["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",h),cC=new x.ErrorFactory("performance",cA,cB),cD=new y.Logger(cA);cD.logLevel=y.LogLevel.INFO;var cE=function(){function a(a){if(this.window=a,!a)throw cC.create("no window");this.performance=a.performance,this.PerformanceObserver=a.PerformanceObserver,this.windowLocation=a.location,this.navigator=a.navigator,this.document=a.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=a.localStorage),a.perfMetrics&&a.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=a.perfMetrics.onFirstInputDelay)}return a.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},a.prototype.mark=function(a){this.performance&&this.performance.mark&&this.performance.mark(a)},a.prototype.measure=function(a,b,c){this.performance&&this.performance.measure&&this.performance.measure(a,b,c)},a.prototype.getEntriesByType=function(a){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(a):[]},a.prototype.getEntriesByName=function(a){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(a):[]},a.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},a.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,x.isIndexedDBAvailable)()||(cD.info("IndexedDB is not supported by current browswer"),!1):(cD.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},a.prototype.setupObserver=function(a,b){this.PerformanceObserver&&new this.PerformanceObserver(function(a){for(var c=0,d=a.getEntries();c<d.length;c++)b(d[c])}).observe({entryTypes:[a]})},a.getInstance=function(){return void 0===i&&(i=new a(j)),i},a}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function cF(a,b){var c=a.length-b.length;if(c<0||c>1)throw cC.create("invalid String merger input");for(var d=[],e=0;e<a.length;e++)d.push(a.charAt(e)),b.length>e&&d.push(b.charAt(e));return d.join("")}var cG=function(){function a(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=cF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=cF("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return a.prototype.getAppId=function(){var a=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!a)throw cC.create("no app id");return a},a.prototype.getProjectId=function(){var a=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!a)throw cC.create("no project id");return a},a.prototype.getApiKey=function(){var a=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!a)throw cC.create("no api key");return a},a.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},a.getInstance=function(){return void 0===k&&(k=new a),k},a}();(df=m||(m={}))[df.UNKNOWN=0]="UNKNOWN",df[df.VISIBLE=1]="VISIBLE",df[df.HIDDEN=2]="HIDDEN";var cH=["firebase_","google_","ga_"],cI=RegExp("^[a-zA-Z]\\w*$");function cJ(){var a=cE.getInstance().document.visibilityState;switch(a){case"visible":return m.VISIBLE;case"hidden":return m.HIDDEN;default:return m.UNKNOWN}}var cK={loggingEnabled:!0};function cL(a){if(!a)return a;var b=cG.getInstance(),c=a.entries||{};return void 0!==c.fpr_enabled?b.loggingEnabled="true"===String(c.fpr_enabled):b.loggingEnabled=cK.loggingEnabled,c.fpr_log_source&&(b.logSource=Number(c.fpr_log_source)),c.fpr_log_endpoint_url&&(b.logEndPointUrl=c.fpr_log_endpoint_url),c.fpr_log_transport_key&&(b.transportKey=c.fpr_log_transport_key),void 0!==c.fpr_vc_network_request_sampling_rate&&(b.networkRequestsSamplingRate=Number(c.fpr_vc_network_request_sampling_rate)),void 0!==c.fpr_vc_trace_sampling_rate&&(b.tracesSamplingRate=Number(c.fpr_vc_trace_sampling_rate)),b.logTraceAfterSampling=cN(b.tracesSamplingRate),b.logNetworkAfterSampling=cN(b.networkRequestsSamplingRate),a}function cM(a){return Number(a)>Date.now()}function cN(a){return Math.random()<=a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var cO=1;function cP(){return cO=2,n=n||cQ()}function cQ(){return cR().then(function(){var a;return(a=cG.getInstance().installationsService.getId()).then(function(a){l=a}),a}).then(function(a){var b,c,d,e;return b=a,(c=function a(){var b=cE.getInstance().localStorage;if(b){var c=b.getItem(cz);if(c&&cM(c)){var d=b.getItem(cy);if(d)try{return JSON.parse(d)}catch(e){return}}}}())?(cL(c),Promise.resolve()):(d=b,((e=cG.getInstance().installationsService.getToken()).then(function(a){}),e).then(function(a){var b="https://firebaseremoteconfig.googleapis.com/v1/projects/"+cG.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+cG.getInstance().getApiKey(),c=new Request(b,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+a},body:JSON.stringify({app_instance_id:d,app_instance_id_token:a,app_id:cG.getInstance().getAppId(),app_version:ct,sdk_version:"0.0.1"})});return fetch(c).then(function(a){if(a.ok)return a.json();throw cC.create("RC response not ok")})}).catch(function(){cD.info("Could not fetch config, will use default configs")})).then(cL).then(function(a){var b,c;return b=a,c=cE.getInstance().localStorage,void(b&&c&&(c.setItem(cy,JSON.stringify(b)),c.setItem(cz,String(Date.now()+36e5*cG.getInstance().configTimeToLive))))},function(){})}).then(function(){return cS()},function(){return cS()})}function cR(){var a=cE.getInstance().document;return new Promise(function(b){if(a&&"complete"!==a.readyState){var c=function(){"complete"===a.readyState&&(a.removeEventListener("readystatechange",c),b())};a.addEventListener("readystatechange",c)}else b()})}function cS(){cO=3}var cT=3,cU=[],cV=!1;function cW(a){setTimeout(function(){if(0!==cT){if(!cU.length)return cW(1e4);cX()}},a)}function cX(){var a=cU.splice(0,1e3),b=a.map(function(a){return{source_extension_json_proto3:a.message,event_time_ms:String(a.eventTime)}}),c={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:cG.getInstance().logSource,log_event:b};cY(c,a).catch(function(){cU=(0,z.__spreadArray)((0,z.__spreadArray)([],a),cU),cT--,cD.info("Tries left: "+cT+"."),cW(1e4)})}function cY(a,b){return cZ(a).then(function(a){return a.ok||cD.info("Call to Firebase backend failed."),a.json()}).then(function(a){var c=Number(a.nextRequestWaitMillis),d=1e4;isNaN(c)||(d=Math.max(c,d));var e=a.logResponseDetails;Array.isArray(e)&&e.length>0&&"RETRY_REQUEST_LATER"===e[0].responseAction&&(cU=(0,z.__spreadArray)((0,z.__spreadArray)([],b),cU),cD.info("Retry transport request later.")),cT=3,cW(d)})}function cZ(a){return fetch(cG.getInstance().getFlTransportFullUrl(),{method:"POST",body:JSON.stringify(a)})}function c$(a,b){if(!o){var c;o=(c=c1,function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];!function(a){if(!a.eventTime||!a.message)throw cC.create("invalid cc log");cU=(0,z.__spreadArray)((0,z.__spreadArray)([],cU),[a])}({message:c.apply(void 0,a),eventTime:Date.now()})})}o(a,b)}function c_(a){var b=cG.getInstance();(b.instrumentationEnabled||!a.isAuto)&&(b.dataCollectionEnabled||a.isAuto)&&cE.getInstance().requiredApisAvailable()&&(!a.isAuto||cJ()===m.VISIBLE)&&(3===cO?c0(a):cP().then(function(){return c0(a)},function(){return c0(a)}))}function c0(a){if(l){var b=cG.getInstance();b.loggingEnabled&&b.logTraceAfterSampling&&setTimeout(function(){return c$(a,1)},0)}}function c1(a,b){return 0===b?c2(a):c3(a)}function c2(a){var b={url:a.url,http_method:a.httpMethod||0,http_response_code:200,response_payload_bytes:a.responsePayloadBytes,client_start_time_us:a.startTimeUs,time_to_response_initiated_us:a.timeToResponseInitiatedUs,time_to_response_completed_us:a.timeToResponseCompletedUs};return JSON.stringify({application_info:c4(),network_request_metric:b})}function c3(a){var b={name:a.name,is_auto:a.isAuto,client_start_time_us:a.startTimeUs,duration_us:a.durationUs};0!==Object.keys(a.counters).length&&(b.counters=a.counters);var c=a.getAttributes();return 0!==Object.keys(c).length&&(b.custom_attributes=c),JSON.stringify({application_info:c4(),trace_metric:b})}function c4(){var a;return{google_app_id:cG.getInstance().getAppId(),app_instance_id:l,web_app_info:{sdk_version:ct,page_url:cE.getInstance().getUrl(),service_worker_status:"serviceWorker"in(a=cE.getInstance().navigator)?a.serviceWorker.controller?2:3:1,visibility_state:cJ(),effective_connection_type:function(){var a=cE.getInstance().navigator.connection,b=a&&a.effectiveType;switch(b){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0}}var c5=["_fp",cw,cx],c6=function(){function a(a,b,c){void 0===b&&(b=!1),this.name=a,this.isAuto=b,this.state=1,this.customAttributes={},this.counters={},this.api=cE.getInstance(),this.randomId=Math.floor(1e6*Math.random()),!this.isAuto&&(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=c||cu+"-"+this.randomId+"-"+this.name,c&&this.calculateTraceMetrics())}return a.prototype.start=function(){if(1!==this.state)throw cC.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},a.prototype.stop=function(){if(2!==this.state)throw cC.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),c_(this)},a.prototype.record=function(a,b,c){if(a<=0)throw cC.create("nonpositive trace startTime",{traceName:this.name});if(b<=0)throw cC.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*b),this.startTimeUs=Math.floor(1e3*a),c&&c.attributes&&(this.customAttributes=(0,z.__assign)({},c.attributes)),c&&c.metrics)for(var d=0,e=Object.keys(c.metrics);d<e.length;d++){var f=e[d];isNaN(Number(c.metrics[f]))||(this.counters[f]=Number(Math.floor(c.metrics[f])))}c_(this)},a.prototype.incrementMetric=function(a,b){void 0===b&&(b=1),void 0===this.counters[a]?this.putMetric(a,b):this.putMetric(a,this.counters[a]+b)},a.prototype.putMetric=function(a,b){var c,d,e,f;if(c=a,d=this.name,0!==c.length&&!(c.length>100)&&(d&&d.startsWith(cv)&&c5.indexOf(c)> -1||!c.startsWith("_")))this.counters[a]=((f=Math.floor(e=b))<e&&cD.info("Metric value should be an Integer, setting the value as : "+f+"."),f);else throw cC.create("invalid custom metric name",{customMetricName:a})},a.prototype.getMetric=function(a){return this.counters[a]||0},a.prototype.putAttribute=function(a,b){var c,d,e=(c=a,0!==c.length&&!(c.length>40)&& !cH.some(function(a){return c.startsWith(a)})&&!!c.match(cI)),f=0!==(d=b).length&&d.length<=100;if(e&&f){this.customAttributes[a]=b;return}if(!e)throw cC.create("invalid attribute name",{attributeName:a});if(!f)throw cC.create("invalid attribute value",{attributeValue:b})},a.prototype.getAttribute=function(a){return this.customAttributes[a]},a.prototype.removeAttribute=function(a){void 0!==this.customAttributes[a]&&delete this.customAttributes[a]},a.prototype.getAttributes=function(){return(0,z.__assign)({},this.customAttributes)},a.prototype.setStartTime=function(a){this.startTimeUs=a},a.prototype.setDuration=function(a){this.durationUs=a},a.prototype.calculateTraceMetrics=function(){var a=this.api.getEntriesByName(this.traceMeasure),b=a&&a[0];b&&(this.durationUs=Math.floor(1e3*b.duration),this.startTimeUs=Math.floor((b.startTime+this.api.getTimeOrigin())*1e3))},a.createOobTrace=function(b,c,d){var e=cE.getInstance().getUrl();if(e){var f=new a(cv+e,!0),g=Math.floor(1e3*cE.getInstance().getTimeOrigin());if(f.setStartTime(g),b&&b[0]&&(f.setDuration(Math.floor(1e3*b[0].duration)),f.putMetric("domInteractive",Math.floor(1e3*b[0].domInteractive)),f.putMetric("domContentLoadedEventEnd",Math.floor(1e3*b[0].domContentLoadedEventEnd)),f.putMetric("loadEventEnd",Math.floor(1e3*b[0].loadEventEnd))),c){var h=c.find(function(a){return"first-paint"===a.name});h&&h.startTime&&f.putMetric("_fp",Math.floor(1e3*h.startTime));var i=c.find(function(a){return"first-contentful-paint"===a.name});i&&i.startTime&&f.putMetric(cw,Math.floor(1e3*i.startTime)),d&&f.putMetric(cx,Math.floor(1e3*d))}c_(f)}},a.createUserTimingTrace=function(b){var c=new a(b,!1,b);c_(c)},a}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ function c7(a){var b=a;if(b&& void 0!==b.responseStart){var c=cE.getInstance().getTimeOrigin(),d=Math.floor((b.startTime+c)*1e3),e=b.responseStart?Math.floor((b.responseStart-b.startTime)*1e3):void 0,f=Math.floor((b.responseEnd-b.startTime)*1e3),g=b.name&&b.name.split("?")[0],h={url:g,responsePayloadBytes:b.transferSize,startTimeUs:d,timeToResponseInitiatedUs:e,timeToResponseCompletedUs:f};!function(a){var b=cG.getInstance();if(b.instrumentationEnabled){var c=a.url,d=b.logEndPointUrl.split("?")[0],e=b.flTransportEndpointUrl.split("?")[0];c!==d&&c!==e&&b.loggingEnabled&&b.logNetworkAfterSampling&&setTimeout(function(){return c$(a,0)},0)}}(h)}}function c8(){l&&(setTimeout(function(){return da()},0),setTimeout(function(){return c9()},0),setTimeout(function(){return db()},0))}function c9(){for(var a=cE.getInstance(),b=a.getEntriesByType("resource"),c=0,d=b;c<d.length;c++)c7(d[c]);a.setupObserver("resource",c7)}function da(){var a=cE.getInstance(),b=a.getEntriesByType("navigation"),c=a.getEntriesByType("paint");if(a.onFirstInputDelay){var d=setTimeout(function(){c6.createOobTrace(b,c),d=void 0},5e3);a.onFirstInputDelay(function(a){d&&(clearTimeout(d),c6.createOobTrace(b,c,a))})}else c6.createOobTrace(b,c)}function db(){for(var a=cE.getInstance(),b=a.getEntriesByType("measure"),c=0,d=b;c<d.length;c++)dc(d[c]);a.setupObserver("measure",dc)}function dc(a){var b=a.name;b.substring(0,cu.length)!==cu&&c6.createUserTimingTrace(b)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var dd,de,df,dg,dh,di=function(){function a(a){this.app=a,cE.getInstance().requiredApisAvailable()&&(0,x.validateIndexedDBOpenable)().then(function(a){a&&(cV||(cW(5500),cV=!0),cP().then(c8,c8))}).catch(function(a){cD.info("Environment doesn't support IndexedDB: "+a)})}return a.prototype.trace=function(a){return new c6(a)},Object.defineProperty(a.prototype,"instrumentationEnabled",{get:function(){return cG.getInstance().instrumentationEnabled},set:function(a){cG.getInstance().instrumentationEnabled=a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dataCollectionEnabled",{get:function(){return cG.getInstance().dataCollectionEnabled},set:function(a){cG.getInstance().dataCollectionEnabled=a},enumerable:!1,configurable:!0}),a}();dg=v.default,dh=function(a,b){var c;if("[DEFAULT]"!==a.name)throw cC.create("FB not default");if("undefined"==typeof window)throw cC.create("no window");return j=c=window,cG.getInstance().firebaseAppInstance=a,cG.getInstance().installationsService=b,new di(a)},dg.INTERNAL.registerComponent(new A.Component("performance",function(a){var b=a.getProvider("app").getImmediate(),c=a.getProvider("installations").getImmediate();return dh(b,c)},"PUBLIC")),dg.registerVersion("@firebase/performance",cs);var dj,dk,dl="https://www.googletagmanager.com/gtag/js";(dj=p||(p={})).EVENT="event",dj.SET="set",dj.CONFIG="config",(dk=q||(q={})).ADD_SHIPPING_INFO="add_shipping_info",dk.ADD_PAYMENT_INFO="add_payment_info",dk.ADD_TO_CART="add_to_cart",dk.ADD_TO_WISHLIST="add_to_wishlist",dk.BEGIN_CHECKOUT="begin_checkout",dk.CHECKOUT_PROGRESS="checkout_progress",dk.EXCEPTION="exception",dk.GENERATE_LEAD="generate_lead",dk.LOGIN="login",dk.PAGE_VIEW="page_view",dk.PURCHASE="purchase",dk.REFUND="refund",dk.REMOVE_FROM_CART="remove_from_cart",dk.SCREEN_VIEW="screen_view",dk.SEARCH="search",dk.SELECT_CONTENT="select_content",dk.SELECT_ITEM="select_item",dk.SELECT_PROMOTION="select_promotion",dk.SET_CHECKOUT_OPTION="set_checkout_option",dk.SHARE="share",dk.SIGN_UP="sign_up",dk.TIMING_COMPLETE="timing_complete",dk.VIEW_CART="view_cart",dk.VIEW_ITEM="view_item",dk.VIEW_ITEM_LIST="view_item_list",dk.VIEW_PROMOTION="view_promotion",dk.VIEW_SEARCH_RESULTS="view_search_results";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ var dm=new y.Logger("@firebase/analytics"),dn=((r={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',r),dp=new x.ErrorFactory("analytics","Analytics",dn),dq=new(function(){function a(a,b){void 0===a&&(a={}),void 0===b&&(b=1e3),this.throttleMetadata=a,this.intervalMillis=b}return a.prototype.getThrottleMetadata=function(a){return this.throttleMetadata[a]},a.prototype.setThrottleMetadata=function(a,b){this.throttleMetadata[a]=b},a.prototype.deleteThrottleMetadata=function(a){delete this.throttleMetadata[a]},a}());function dr(a,b,c,d){var e=b.throttleEndTimeMillis,f=b.backoffCount;return void 0===d&&(d=dq),(0,z.__awaiter)(this,void 0,void 0,function(){var b,g,h,i,j,k,l;return(0,z.__generator)(this,function(m){switch(m.label){case 0:b=a.appId,g=a.measurementId,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,ds(c,e)];case 2:return m.sent(),[3,4];case 3:if(h=m.sent(),g)return dm.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+g+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:b,measurementId:g}];throw h;case 4:return m.trys.push([4,6,,7]),[4,function(a){var b;return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d,e,f,g,h,i;return(0,z.__generator)(this,function(j){switch(j.label){case 0:var k;return c=a.appId,e={method:"GET",headers:(k=d=a.apiKey,new Headers({Accept:"application/json","x-goog-api-key":k}))},[4,fetch(f="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",c),e)];case 1:if(!(200!==(g=j.sent()).status&&304!==g.status))return[3,6];h="",j.label=2;case 2:return j.trys.push([2,4,,5]),[4,g.json()];case 3:return(null===(b=(i=j.sent()).error)|| void 0===b?void 0:b.message)&&(h=i.error.message),[3,5];case 4:return j.sent(),[3,5];case 5:throw dp.create("config-fetch-failed",{httpStatus:g.status,responseMessage:h});case 6:return[2,g.json()]}})})}(a)];case 5:return i=m.sent(),d.deleteThrottleMetadata(b),[2,i];case 6:if(!dt(j=m.sent())){if(d.deleteThrottleMetadata(b),g)return dm.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+g+' provided in the "measurementId" field in the local Firebase config. ['+j.message+"]"),[2,{appId:b,measurementId:g}];throw j}return k=503===Number(j.customData.httpStatus)?(0,x.calculateBackoffMillis)(f,d.intervalMillis,30):(0,x.calculateBackoffMillis)(f,d.intervalMillis),l={throttleEndTimeMillis:Date.now()+k,backoffCount:f+1},d.setThrottleMetadata(b,l),dm.debug("Calling attemptFetch again in "+k+" millis"),[2,dr(a,l,c,d)];case 7:return[2]}})})}function ds(a,b){return new Promise(function(c,d){var e=setTimeout(c,Math.max(b-Date.now(),0));a.addEventListener(function(){clearTimeout(e),d(dp.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}function dt(a){if(!(a instanceof x.FirebaseError)||!a.customData)return!1;var b=Number(a.customData.httpStatus);return 429===b||500===b||503===b||504===b}var du,dv=function(){function a(){this.listeners=[]}return a.prototype.addEventListener=function(a){this.listeners.push(a)},a.prototype.abort=function(){this.listeners.forEach(function(a){return a()})},a}(),dw={},dx=[],dy={},dz="dataLayer",dA="gtag",dB=!1,dC="analytics";(du=v.default).INTERNAL.registerComponent(new A.Component(dC,function(a){var b=a.getProvider("app").getImmediate(),c=a.getProvider("installations").getImmediate();return function(a,b){!function(){var a=[];if((0,x.isBrowserExtension)()&&a.push("This is a browser extension environment."),(0,x.areCookiesEnabled)()||a.push("Cookies are not available."),a.length>0){var b=a.map(function(a,b){return"("+(b+1)+") "+a}).join(" "),c=dp.create("invalid-analytics-context",{errorInfo:b});dm.warn(c.message)}}();var c=a.options.appId;if(!c)throw dp.create("no-app-id");if(!a.options.apiKey){if(a.options.measurementId)dm.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+a.options.measurementId+' provided in the "measurementId" field in the local Firebase config.');else throw dp.create("no-api-key")}if(null!=dw[c])throw dp.create("already-exists",{id:c});if(!dB){d=dz,e=[],Array.isArray(window[d])?e=window[d]:window[d]=e;var d,e,f,g,h,i,j,k,l,m,n,o,q=(f=dw,g=dx,h=dy,i=dz,j=dA,k=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];window[i].push(arguments)},window[j]&&"function"==typeof window[j]&&(k=window[j]),window[j]=(l=k,m=f,n=g,o=h,function(a,b,c){return(0,z.__awaiter)(this,void 0,void 0,function(){var d;return(0,z.__generator)(this,function(e){switch(e.label){case 0:if(e.trys.push([0,6,,7]),a!==p.EVENT)return[3,2];return[4,function(a,b,c,d,e){return(0,z.__awaiter)(this,void 0,void 0,function(){var f,g,h,i,j,k,l,m,n;return(0,z.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,4,,5]),f=[],!(e&&e.send_to))return[3,2];return Array.isArray(g=e.send_to)||(g=[g]),[4,Promise.all(c)];case 1:for(j=0,h=o.sent(),i=function(a){var c=h.find(function(b){return b.measurementId===a}),d=c&&b[c.appId];if(!d)return f=[],"break";f.push(d)},k=g;j<k.length&&"break"!==(m=i(l=k[j]));j++);o.label=2;case 2:return 0===f.length&&(f=Object.values(b)),[4,Promise.all(f)];case 3:return o.sent(),a(p.EVENT,d,e||{}),[3,5];case 4:return n=o.sent(),dm.error(n),[3,5];case 5:return[2]}})})}(l,m,n,b,c)];case 1:case 3:return e.sent(),[3,5];case 2:if(a!==p.CONFIG)return[3,4];return[4,function(a,b,c,d,e,f){return(0,z.__awaiter)(this,void 0,void 0,function(){var g,h,i,j;return(0,z.__generator)(this,function(k){switch(k.label){case 0:g=d[e],k.label=1;case 1:if(k.trys.push([1,7,,8]),!g)return[3,3];return[4,b[g]];case 2:return k.sent(),[3,6];case 3:return[4,Promise.all(c)];case 4:if(!(i=(h=k.sent()).find(function(a){return a.measurementId===e})))return[3,6];return[4,b[i.appId]];case 5:k.sent(),k.label=6;case 6:return[3,8];case 7:return j=k.sent(),dm.error(j),[3,8];case 8:return a(p.CONFIG,e,f),[2]}})})}(l,m,n,o,b,c)];case 4:l(p.SET,b),e.label=5;case 5:return[3,7];case 6:return d=e.sent(),dm.error(d),[3,7];case 7:return[2]}})})}),{gtagCore:k,wrappedGtag:window[j]}),r=q.wrappedGtag,u=q.gtagCore;t=r,s=u,dB=!0}return dw[c]=function(a,b,c,d,e,f){return(0,z.__awaiter)(this,void 0,void 0,function(){var g,h,i,j,k,l,m;return(0,z.__generator)(this,function(n){switch(n.label){case 0:return(g=function(a,b,c){return void 0===b&&(b=dq),(0,z.__awaiter)(this,void 0,void 0,function(){var d,e,f,g,h,i,j=this;return(0,z.__generator)(this,function(k){if(e=(d=a.options).appId,f=d.apiKey,g=d.measurementId,!e)throw dp.create("no-app-id");if(!f){if(g)return[2,{measurementId:g,appId:e}];throw dp.create("no-api-key")}return h=b.getThrottleMetadata(e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},i=new dv,setTimeout(function(){return(0,z.__awaiter)(j,void 0,void 0,function(){return(0,z.__generator)(this,function(a){return i.abort(),[2]})})},void 0!==c?c:6e4),[2,dr({appId:e,apiKey:f,measurementId:g},h,i,b)]})})}(a)).then(function(b){c[b.measurementId]=b.appId,a.options.measurementId&&b.measurementId!==a.options.measurementId&&dm.warn("The measurement ID in the local Firebase config ("+a.options.measurementId+") does not match the measurement ID fetched from the server ("+b.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(a){return dm.error(a)}),b.push(g),[4,Promise.all([g,h=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ (function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a;return(0,z.__generator)(this,function(b){switch(b.label){case 0:if((0,x.isIndexedDBAvailable)())return[3,1];return dm.warn(dp.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1];case 1:return b.trys.push([1,3,,4]),[4,(0,x.validateIndexedDBOpenable)()];case 2:return b.sent(),[3,4];case 3:return a=b.sent(),dm.warn(dp.create("indexeddb-unavailable",{errorInfo:a}).message),[2,!1];case 4:return[2,!0]}})})})().then(function(a){return a?d.getId():void 0})])];case 1:if(j=(i=n.sent())[0],k=i[1],!function(){for(var a=window.document.getElementsByTagName("script"),b=0,c=Object.values(a);b<c.length;b++){var d=c[b];if(d.src&&d.src.includes(dl))return d}return null}()){var o,q,r;o=f,q=j.measurementId,(r=document.createElement("script")).src=dl+"?l="+o+"&id="+q,r.async=!0,document.head.appendChild(r)}return e("js",new Date),l=((m={}).origin="firebase",m.update=!0,m),null!=k&&(l.firebase_id=k),e(p.CONFIG,j.measurementId,l),[2,j.measurementId]}})})}(a,dx,dy,b,s,dz),{app:a,logEvent:function(a,b,d){/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Logs an analytics event through the Firebase SDK.
 *
 * @param gtagFunction Wrapped gtag function that waits for fid to be set before sending an event
 * @param eventName Google Analytics event name, choose from standard list or use a custom string.
 * @param eventParams Analytics event parameters.
 */ (function(a,b,c,d,e){return(0,z.__awaiter)(this,void 0,void 0,function(){var f,g;return(0,z.__generator)(this,function(h){switch(h.label){case 0:if(!(e&&e.global))return[3,1];return a(p.EVENT,c,d),[2];case 1:return[4,b];case 2:f=h.sent(),g=(0,z.__assign)((0,z.__assign)({},d),{send_to:f}),a(p.EVENT,c,g),h.label=3;case 3:return[2]}})})})(t,dw[c],a,b,d).catch(function(a){return dm.error(a)})},setCurrentScreen:function(a,b){(function(a,b,c,d){return(0,z.__awaiter)(this,void 0,void 0,function(){var e;return(0,z.__generator)(this,function(f){switch(f.label){case 0:if(!(d&&d.global))return[3,1];return a(p.SET,{screen_name:c}),[2,Promise.resolve()];case 1:return[4,b];case 2:e=f.sent(),a(p.CONFIG,e,{update:!0,screen_name:c}),f.label=3;case 3:return[2]}})})})(t,dw[c],a,b).catch(function(a){return dm.error(a)})},setUserId:function(a,b){(function(a,b,c,d){return(0,z.__awaiter)(this,void 0,void 0,function(){var e;return(0,z.__generator)(this,function(f){switch(f.label){case 0:if(!(d&&d.global))return[3,1];return a(p.SET,{user_id:c}),[2,Promise.resolve()];case 1:return[4,b];case 2:e=f.sent(),a(p.CONFIG,e,{update:!0,user_id:c}),f.label=3;case 3:return[2]}})})})(t,dw[c],a,b).catch(function(a){return dm.error(a)})},setUserProperties:function(a,b){(function(a,b,c,d){return(0,z.__awaiter)(this,void 0,void 0,function(){var e,f,g,h,i;return(0,z.__generator)(this,function(j){switch(j.label){case 0:if(!(d&&d.global))return[3,1];for(f=0,e={},g=Object.keys(c);f<g.length;f++)e["user_properties."+(h=g[f])]=c[h];return a(p.SET,e),[2,Promise.resolve()];case 1:return[4,b];case 2:i=j.sent(),a(p.CONFIG,i,{update:!0,user_properties:c}),j.label=3;case 3:return[2]}})})})(t,dw[c],a,b).catch(function(a){return dm.error(a)})},setAnalyticsCollectionEnabled:function(a){(function(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,a];case 1:return c=d.sent(),window["ga-disable-"+c]=!b,[2]}})})})(dw[c],a).catch(function(a){return dm.error(a)})},INTERNAL:{delete:function(){return delete dw[c],Promise.resolve()}}}}(b,c)},"PUBLIC").setServiceProps({settings:function a(b){if(dB)throw dp.create("already-initialized");b.dataLayerName&&(dz=b.dataLayerName),b.gtagName&&(dA=b.gtagName)},EventName:q,isSupported:function a(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a;return(0,z.__generator)(this,function(b){switch(b.label){case 0:if((0,x.isBrowserExtension)()||!(0,x.areCookiesEnabled)()||!(0,x.isIndexedDBAvailable)())return[2,!1];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,(0,x.validateIndexedDBOpenable)()];case 2:return[2,a=b.sent()];case 3:return b.sent(),[2,!1];case 4:return[2]}})})}})),du.INTERNAL.registerComponent(new A.Component("analytics-internal",function(a){try{return{logEvent:a.getProvider(dC).getImmediate().logEvent}}catch(b){throw dp.create("interop-component-reg-failed",{reason:b})}},"PRIVATE")),du.registerVersion("@firebase/analytics","0.6.15");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Implements the {@link RemoteConfigClient} abstraction with success response caching.
 *
 * <p>Comparable to the browser's Cache API for responses, but the Cache API requires a Service
 * Worker, which requires HTTPS, which would significantly complicate SDK installation. Also, the
 * Cache API doesn't support matching entries by time.
 */ var dD=function(){function a(a,b,c,d){this.client=a,this.storage=b,this.storageCache=c,this.logger=d}return a.prototype.isCachedDataFresh=function(a,b){if(!b)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var c=Date.now()-b,d=c<=a;return this.logger.debug("Config fetch cache check. Cache age millis: "+c+". Cache max age millis (minimumFetchIntervalMillis setting): "+a+". Is cache hit: "+d+"."),d},a.prototype.fetch=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d,e,f;return(0,z.__generator)(this,function(g){switch(g.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:if(c=(b=g.sent())[0],(d=b[1])&&this.isCachedDataFresh(a.cacheMaxAgeMillis,c))return[2,d];return a.eTag=d&&d.eTag,[4,this.client.fetch(a)];case 2:return e=g.sent(),f=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===e.status&&f.push(this.storage.setLastSuccessfulFetchResponse(e)),[4,Promise.all(f)];case 3:return g.sent(),[2,e]}})})},a}(),dE=((u={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",u["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",u["registration-api-key"]="Undefined API key. Check Firebase app initialization.",u["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",u["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',u["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',u["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u),dF=new x.ErrorFactory("remoteconfig","Remote Config",dE),dG=function(){function a(a,b,c,d,e,f){this.firebaseInstallations=a,this.sdkVersion=b,this.namespace=c,this.projectId=d,this.apiKey=e,this.appId=f}return a.prototype.fetch=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return(0,z.__generator)(this,function(u){switch(u.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:var v;c=(b=u.sent())[0],d=b[1],f=(e=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com")+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,g={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":a.eTag||"*"},h={sdk_version:this.sdkVersion,app_instance_id:c,app_instance_id_token:d,app_id:this.appId,language_code:(void 0===v&&(v=navigator),v.languages&&v.languages[0]||v.language)},j=fetch(f,i={method:"POST",headers:g,body:JSON.stringify(h)}),k=new Promise(function(b,c){a.signal.addEventListener(function(){var a=Error("The operation was aborted.");a.name="AbortError",c(a)})}),u.label=2;case 2:return u.trys.push([2,5,,6]),[4,Promise.race([j,k])];case 3:return u.sent(),[4,j];case 4:return l=u.sent(),[3,6];case 5:throw m=u.sent(),n="fetch-client-network","AbortError"===m.name&&(n="fetch-timeout"),dF.create(n,{originalErrorMessage:m.message});case 6:if(o=l.status,p=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];s=void 0,u.label=7;case 7:return u.trys.push([7,9,,10]),[4,l.json()];case 8:return s=u.sent(),[3,10];case 9:throw t=u.sent(),dF.create("fetch-client-parse",{originalErrorMessage:t.message});case 10:q=s.entries,r=s.state,u.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===r?o=500:"NO_CHANGE"===r?o=304:("NO_TEMPLATE"===r||"EMPTY_CONFIG"===r)&&(q={}),304!==o&&200!==o)throw dF.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:p,config:q}]}})})},a}(),dH=function(){function a(){this.listeners=[]}return a.prototype.addEventListener=function(a){this.listeners.push(a)},a.prototype.abort=function(){this.listeners.forEach(function(a){return a()})},a}(),dI=["1","true","t","yes","y","on"],dJ=function(){function a(a,b){void 0===b&&(b=""),this._source=a,this._value=b}return a.prototype.asString=function(){return this._value},a.prototype.asBoolean=function(){return"static"!==this._source&&dI.indexOf(this._value.toLowerCase())>=0},a.prototype.asNumber=function(){if("static"===this._source)return 0;var a=Number(this._value);return isNaN(a)&&(a=0),a},a.prototype.getSource=function(){return this._source},a}(),dK=function(){function a(a,b,c,d,e){this.app=a,this._client=b,this._storageCache=c,this._storage=d,this._logger=e,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return a.prototype.setLogLevel=function(a){switch(a){case"debug":this._logger.logLevel=y.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=y.LogLevel.SILENT;break;default:this._logger.logLevel=y.LogLevel.ERROR}},Object.defineProperty(a.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()|| -1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),a.prototype.activate=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a,b,c;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:if(b=(a=d.sent())[0],c=a[1],!b||!b.config||!b.eTag||b.eTag===c)return[2,!1];return[4,Promise.all([this._storageCache.setActiveConfig(b.config),this._storage.setActiveConfigEtag(b.eTag)])];case 2:return d.sent(),[2,!0]}})})},a.prototype.ensureInitialized=function(){var a=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){a._isInitializationComplete=!0})),this._initializePromise},a.prototype.fetch=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a,b,c,d=this;return(0,z.__generator)(this,function(e){switch(e.label){case 0:a=new dH,setTimeout(function(){return(0,z.__awaiter)(d,void 0,void 0,function(){return(0,z.__generator)(this,function(b){return a.abort(),[2]})})},this.settings.fetchTimeoutMillis),e.label=1;case 1:return e.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:a})];case 2:return e.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return e.sent(),[3,6];case 4:var f,g;return f=b=e.sent(),g="fetch-throttle",c=f instanceof x.FirebaseError&& -1!==f.code.indexOf(g)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(c)];case 5:throw e.sent(),b;case 6:return[2]}})})},a.prototype.fetchAndActivate=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){return(0,z.__generator)(this,function(a){switch(a.label){case 0:return[4,this.fetch()];case 1:return a.sent(),[2,this.activate()]}})})},a.prototype.getAll=function(){var a=this;return dL(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(b,c){return b[c]=a.getValue(c),b},{})},a.prototype.getBoolean=function(a){return this.getValue(a).asBoolean()},a.prototype.getNumber=function(a){return this.getValue(a).asNumber()},a.prototype.getString=function(a){return this.getValue(a).asString()},a.prototype.getValue=function(a){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+a+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var b=this._storageCache.getActiveConfig();return b&& void 0!==b[a]?new dJ("remote",b[a]):this.defaultConfig&& void 0!==this.defaultConfig[a]?new dJ("default",String(this.defaultConfig[a])):(this._logger.debug('Returning static value for key "'+a+'". Define a default or remote value if this is unintentional.'),new dJ("static"))},a}();function dL(a,b){return void 0===a&&(a={}),void 0===b&&(b={}),Object.keys((0,z.__assign)((0,z.__assign)({},a),b))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ /**
 * Converts an error event associated with a {@link IDBRequest} to a {@link FirebaseError}.
 */ function dM(a,b){var c=a.target.error||void 0;return dF.create(b,{originalErrorMessage:c&&c.message})}var dN,dO="app_namespace_store",dP=function(){function a(a,b,c,d){void 0===d&&(d=new Promise(function(a,b){var c=indexedDB.open("firebase_remote_config",1);c.onerror=function(a){b(dM(a,"storage-open"))},c.onsuccess=function(b){a(b.target.result)},c.onupgradeneeded=function(a){var b=a.target.result;0===a.oldVersion&&b.createObjectStore(dO,{keyPath:"compositeKey"})}})),this.appId=a,this.appName=b,this.namespace=c,this.openDbPromise=d}return a.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},a.prototype.setLastFetchStatus=function(a){return this.set("last_fetch_status",a)},a.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},a.prototype.setLastSuccessfulFetchTimestampMillis=function(a){return this.set("last_successful_fetch_timestamp_millis",a)},a.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},a.prototype.setLastSuccessfulFetchResponse=function(a){return this.set("last_successful_fetch_response",a)},a.prototype.getActiveConfig=function(){return this.get("active_config")},a.prototype.setActiveConfig=function(a){return this.set("active_config",a)},a.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},a.prototype.setActiveConfigEtag=function(a){return this.set("active_config_etag",a)},a.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},a.prototype.setThrottleMetadata=function(a){return this.set("throttle_metadata",a)},a.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},a.prototype.get=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c=this;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,this.openDbPromise];case 1:return b=d.sent(),[2,new Promise(function(d,e){var f=b.transaction([dO],"readonly").objectStore(dO),g=c.createCompositeKey(a);try{var h=f.get(g);h.onerror=function(a){e(dM(a,"storage-get"))},h.onsuccess=function(a){var b=a.target.result;b?d(b.value):d(void 0)}}catch(i){e(dF.create("storage-get",{originalErrorMessage:i&&i.message}))}})]}})})},a.prototype.set=function(a,b){return(0,z.__awaiter)(this,void 0,void 0,function(){var c,d=this;return(0,z.__generator)(this,function(e){switch(e.label){case 0:return[4,this.openDbPromise];case 1:return c=e.sent(),[2,new Promise(function(e,f){var g=c.transaction([dO],"readwrite").objectStore(dO),h=d.createCompositeKey(a);try{var i=g.put({compositeKey:h,value:b});i.onerror=function(a){f(dM(a,"storage-set"))},i.onsuccess=function(){e()}}catch(j){f(dF.create("storage-set",{originalErrorMessage:j&&j.message}))}})]}})})},a.prototype.delete=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b,c=this;return(0,z.__generator)(this,function(d){switch(d.label){case 0:return[4,this.openDbPromise];case 1:return b=d.sent(),[2,new Promise(function(d,e){var f=b.transaction([dO],"readwrite").objectStore(dO),g=c.createCompositeKey(a);try{var h=f.delete(g);h.onerror=function(a){e(dM(a,"storage-delete"))},h.onsuccess=function(){d()}}catch(i){e(dF.create("storage-delete",{originalErrorMessage:i&&i.message}))}})]}})})},a.prototype.createCompositeKey=function(a){return[this.appId,this.appName,this.namespace,a].join()},a}(),dQ=function(){function a(a){this.storage=a}return a.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},a.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},a.prototype.getActiveConfig=function(){return this.activeConfig},a.prototype.loadFromStorage=function(){return(0,z.__awaiter)(this,void 0,void 0,function(){var a,b,c,d,e,f;return(0,z.__generator)(this,function(g){switch(g.label){case 0:return a=this.storage.getLastFetchStatus(),b=this.storage.getLastSuccessfulFetchTimestampMillis(),c=this.storage.getActiveConfig(),[4,a];case 1:return(d=g.sent())&&(this.lastFetchStatus=d),[4,b];case 2:return(e=g.sent())&&(this.lastSuccessfulFetchTimestampMillis=e),[4,c];case 3:return(f=g.sent())&&(this.activeConfig=f),[2]}})})},a.prototype.setLastFetchStatus=function(a){return this.lastFetchStatus=a,this.storage.setLastFetchStatus(a)},a.prototype.setLastSuccessfulFetchTimestampMillis=function(a){return this.lastSuccessfulFetchTimestampMillis=a,this.storage.setLastSuccessfulFetchTimestampMillis(a)},a.prototype.setActiveConfig=function(a){return this.activeConfig=a,this.storage.setActiveConfig(a)},a}(),dR=function(){function a(a,b){this.client=a,this.storage=b}return a.prototype.fetch=function(a){return(0,z.__awaiter)(this,void 0,void 0,function(){var b;return(0,z.__generator)(this,function(c){switch(c.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return b=c.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(a,b)]}})})},a.prototype.attemptFetch=function(a,b){var c=b.throttleEndTimeMillis,d=b.backoffCount;return(0,z.__awaiter)(this,void 0,void 0,function(){var b,e,f;return(0,z.__generator)(this,function(g){switch(g.label){case 0:var h,i;return[4,(h=a.signal,i=c,new Promise(function(a,b){var c=setTimeout(a,Math.max(i-Date.now(),0));h.addEventListener(function(){clearTimeout(c),b(dF.create("fetch-throttle",{throttleEndTimeMillis:i}))})}))];case 1:g.sent(),g.label=2;case 2:return g.trys.push([2,5,,7]),[4,this.client.fetch(a)];case 3:return b=g.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return g.sent(),[2,b];case 5:if(!function(a){if(!(a instanceof x.FirebaseError)||!a.customData)return!1;var b=Number(a.customData.httpStatus);return 429===b||500===b||503===b||504===b}(e=g.sent()))throw e;return f={throttleEndTimeMillis:Date.now()+(0,x.calculateBackoffMillis)(d),backoffCount:d+1},[4,this.storage.setThrottleMetadata(f)];case 6:return g.sent(),[2,this.attemptFetch(a,f)];case 7:return[2]}})})},a}(),dS="@firebase/remote-config";(dN=v.default).INTERNAL.registerComponent(new A.Component("remoteConfig",function(a,b){var c=b.instanceIdentifier,d=a.getProvider("app").getImmediate(),e=a.getProvider("installations").getImmediate();if("undefined"==typeof window)throw dF.create("registration-window");var f=d.options,g=f.projectId,h=f.apiKey,i=f.appId;if(!g)throw dF.create("registration-project-id");if(!h)throw dF.create("registration-api-key");if(!i)throw dF.create("registration-app-id");c=c||"firebase";var j=new dP(i,d.name,c),k=new dQ(j),l=new y.Logger(dS);l.logLevel=y.LogLevel.ERROR;var m=new dG(e,dN.SDK_VERSION,c,g,h,i),n=new dR(m,j),o=new dD(n,j,k,l),p=new dK(d,o,k,j,l);return p.ensureInitialized(),p},"PUBLIC").setMultipleInstances(!0)),dN.registerVersion(dS,"0.1.41"),c(2224);var dT="8.8.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ v.default.registerVersion("firebase",dT,"app"),v.default.SDK_VERSION=dT,/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),v.default.registerVersion("firebase","8.8.0")},6257:function(a,b,c){"use strict";c(8483)},8676:function(a,b){!function(a,c){c(b)}(this,function(a){"use strict";function b(a){return new Promise(function(b,c){a.onsuccess=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function c(a,c,d){var e,f=new Promise(function(f,g){e=a[c].apply(a,d),b(e).then(f,g)});return f.request=e,f}function d(a,b,c){c.forEach(function(c){Object.defineProperty(a.prototype,c,{get:function(){return this[b][c]},set:function(a){this[b][c]=a}})})}function e(a,b,d,e){e.forEach(function(e){e in d.prototype&&(a.prototype[e]=function(){return c(this[b],e,arguments)})})}function f(a,b,c,d){d.forEach(function(d){d in c.prototype&&(a.prototype[d]=function(){return this[b][d].apply(this[b],arguments)})})}function g(a,b,d,e){e.forEach(function(e){e in d.prototype&&(a.prototype[e]=function(){var a,d,f,g;return a=this[b],d=e,f=arguments,(g=c(a,d,f)).then(function(a){if(a)return new i(a,g.request)})})})}function h(a){this._index=a}function i(a,b){this._cursor=a,this._request=b}function j(a){this._store=a}function k(a){this._tx=a,this.complete=new Promise(function(b,c){a.oncomplete=function(){b()},a.onerror=function(){c(a.error)},a.onabort=function(){c(a.error)}})}function l(a,b,c){this._db=a,this.oldVersion=b,this.transaction=new k(c)}function m(a){this._db=a}d(h,"_index",["name","keyPath","multiEntry","unique"]),e(h,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),g(h,"_index",IDBIndex,["openCursor","openKeyCursor"]),d(i,"_cursor",["direction","key","primaryKey","value"]),e(i,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(a){a in IDBCursor.prototype&&(i.prototype[a]=function(){var c=this,d=arguments;return Promise.resolve().then(function(){return c._cursor[a].apply(c._cursor,d),b(c._request).then(function(a){if(a)return new i(a,c._request)})})})}),j.prototype.createIndex=function(){return new h(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new h(this._store.index.apply(this._store,arguments))},d(j,"_store",["name","keyPath","indexNames","autoIncrement"]),e(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),g(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),f(j,"_store",IDBObjectStore,["deleteIndex"]),k.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},d(k,"_tx",["objectStoreNames","mode"]),f(k,"_tx",IDBTransaction,["abort"]),l.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},d(l,"_db",["name","version","objectStoreNames"]),f(l,"_db",IDBDatabase,["deleteObjectStore","close"]),m.prototype.transaction=function(){return new k(this._db.transaction.apply(this._db,arguments))},d(m,"_db",["name","version","objectStoreNames"]),f(m,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(a){[j,h].forEach(function(b){a in b.prototype&&(b.prototype[a.replace("open","iterate")]=function(){var b,c=(b=arguments,Array.prototype.slice.call(b)),d=c[c.length-1],e=this._store||this._index,f=e[a].apply(e,c.slice(0,-1));f.onsuccess=function(){d(f.result)}})})}),[h,j].forEach(function(a){a.prototype.getAll||(a.prototype.getAll=function(a,b){var c=this,d=[];return new Promise(function(e){c.iterateCursor(a,function(a){if(!a||(d.push(a.value),void 0!==b&&d.length==b)){e(d);return}a.continue()})})})}),a.openDb=function(a,b,d){var e=c(indexedDB,"open",[a,b]),f=e.request;return f&&(f.onupgradeneeded=function(a){d&&d(new l(f.result,a.oldVersion,f.transaction))}),e.then(function(a){return new m(a)})},a.deleteDb=function(a){return c(indexedDB,"deleteDatabase",[a])},Object.defineProperty(a,"__esModule",{value:!0})})},3454:function(a,b,c){"use strict";var d,e;a.exports=(null==(d=c.g.process)?void 0:d.env)&&"object"==typeof(null==(e=c.g.process)?void 0:e.env)?c.g.process:c(7663)},7663:function(a){!function(){var b={308:function(a){var b,c,d,e=a.exports={};function f(){throw Error("setTimeout has not been defined")}function g(){throw Error("clearTimeout has not been defined")}function h(a){if(b===setTimeout)return setTimeout(a,0);if((b===f||!b)&&setTimeout)return b=setTimeout,setTimeout(a,0);try{return b(a,0)}catch(c){try{return b.call(null,a,0)}catch(d){return b.call(this,a,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:f}catch(a){b=f}try{c="function"==typeof clearTimeout?clearTimeout:g}catch(d){c=g}}();var i=[],j=!1,k=-1;function l(){j&&d&&(j=!1,d.length?i=d.concat(i):k=-1,i.length&&m())}function m(){if(!j){var a=h(l);j=!0;for(var b=i.length;b;){for(d=i,i=[];++k<b;)d&&d[k].run();k=-1,b=i.length}d=null,j=!1,function(a){if(c===clearTimeout)return clearTimeout(a);if((c===g||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(a);try{c(a)}catch(b){try{return c.call(null,a)}catch(d){return c.call(this,a)}}}(a)}}function n(a,b){this.fun=a,this.array=b}function o(){}e.nextTick=function(a){var b=Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new n(a,b)),1!==i.length||j||h(m)},n.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=o,e.addListener=o,e.once=o,e.off=o,e.removeListener=o,e.removeAllListeners=o,e.emit=o,e.prependListener=o,e.prependOnceListener=o,e.listeners=function(a){return[]},e.binding=function(a){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw Error("process.chdir is not supported")},e.umask=function(){return 0}}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e=d(308);a.exports=e}()},655:function(a,b,c){"use strict";c.r(b),c.d(b,{"__assign":function(){return f},"__asyncDelegator":function(){return v},"__asyncGenerator":function(){return u},"__asyncValues":function(){return w},"__await":function(){return t},"__awaiter":function(){return k},"__classPrivateFieldGet":function(){return B},"__classPrivateFieldIn":function(){return D},"__classPrivateFieldSet":function(){return C},"__createBinding":function(){return m},"__decorate":function(){return h},"__exportStar":function(){return n},"__extends":function(){return e},"__generator":function(){return l},"__importDefault":function(){return A},"__importStar":function(){return z},"__makeTemplateObject":function(){return x},"__metadata":function(){return j},"__param":function(){return i},"__read":function(){return p},"__rest":function(){return g},"__spread":function(){return q},"__spreadArray":function(){return s},"__spreadArrays":function(){return r},"__values":function(){return o}});var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function e(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function k(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d.throw(a))}catch(b){f(b)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function l(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(a){return function(b){return i([a,b])}}function i(f){if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&f[0]?d.return:f[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,f[1])).done)return e;switch(d=0,e&&(f=[2&f[0],e.value]),f[0]){case 0:case 1:e=f;break;case 4:return g.label++,{value:f[1],done:!1};case 5:g.label++,d=f[1],f=[0];continue;case 7:f=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===f[0]||2===f[0])){g=0;continue}if(3===f[0]&&(!e||f[1]>e[0]&&f[1]<e[3])){g.label=f[1];break}if(6===f[0]&&g.label<e[1]){g.label=e[1],e=f;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(f);break}e[2]&&g.ops.pop(),g.trys.pop();continue}f=b.call(a,g)}catch(h){f=[6,h],d=0}finally{c=e=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var m=Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]};function n(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||m(b,a,c)}function o(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function q(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(p(arguments[b]));return a}function r(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function s(a,b,c){if(c||2===arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}function t(a){return this instanceof t?(this.v=a,this):new t(a)}function u(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{i(e[a](b))}catch(c){l(f[0][3],c)}}function i(a){a.value instanceof t?Promise.resolve(a.value.v).then(j,k):l(f[0][2],a)}function j(a){h("next",a)}function k(a){h("throw",a)}function l(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function v(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:t(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function w(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=o(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){e(d,f,(b=a[c](b)).done,b.value)})}}function e(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}}function x(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}var y=Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b};function z(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&m(b,a,c);return y(b,a),b}function A(a){return a&&a.__esModule?a:{default:a}}function B(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)}function C(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c}function D(a,b){if(null===b||"object"!=typeof b&&"function"!=typeof b)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof a?b===a:a.has(b)}},7568:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}c.d(b,{Z:function(){return e}})},1438:function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}c.d(b,{Z:function(){return d}})},7892:function(a,b,c){"use strict";function d(a,b,c){if(!b.has(a))throw TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}c.d(b,{Z:function(){return d}})},5315:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(7892);function e(a,b){var c,e,f=(0,d.Z)(a,b,"get");return c=a,(e=f).get?e.get.call(c):e.value}},222:function(a,b,c){"use strict";function d(a,b,c){!function(a,b){if(b.has(a))throw TypeError("Cannot initialize the same private elements twice on an object")}(a,b),b.set(a,c)}c.d(b,{Z:function(){return d}})},8409:function(a,b,c){"use strict";c.d(b,{Z:function(){return e}});var d=c(7892);function e(a,b,c){var e=(0,d.Z)(a,b,"set");return!function(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw TypeError("attempted to set read only private field");b.value=c}}(a,e,c),c}},2951:function(a,b,c){"use strict";function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function e(a,b,c){return b&&d(a.prototype,b),c&&d(a,c),a}c.d(b,{Z:function(){return e}})}}])